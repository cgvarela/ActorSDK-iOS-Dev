//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/ex3ndr/Develop/actor-proprietary/actor-sdk/sdk-core/core/core-shared/src/main/java//im/actor/core/modules/internal/state/ListsStatesActor.java
//

#include <j2objc/IOSPrimitiveArray.h>
#include <j2objc/J2ObjC_source.h>
#include "im/actor/core/api/ApiAppCounters.h"
#include "im/actor/core/modules/ModuleContext.h"
#include "im/actor/core/modules/internal/AppStateModule.h"
#include "im/actor/core/modules/internal/state/ListsStatesActor.h"
#include "im/actor/core/modules/utils/ModuleActor.h"
#include "im/actor/core/viewmodel/AppStateVM.h"
#include "im/actor/runtime/actors/Actor.h"
#include "im/actor/runtime/bser/BserParser.h"
#include "im/actor/runtime/bser/BserValues.h"
#include "im/actor/runtime/bser/DataInput.h"
#include "im/actor/runtime/collections/SparseArray.h"
#include "im/actor/runtime/storage/PreferencesStorage.h"
#include <j2objc/java/io/IOException.h>
#include <j2objc/java/lang/Integer.h>

#pragma clang diagnostic push
#pragma GCC diagnostic ignored "-Wdeprecated-declarations"

@interface ACListsStatesActor () {
 @public
  ARApiAppCounters *counters_;
}

@end

J2OBJC_FIELD_SETTER(ACListsStatesActor, counters_, ARApiAppCounters *)

@interface ACListsStatesActor_OnAppCounterChanged () {
 @public
  ARApiAppCounters *counters_;
}

@end

J2OBJC_FIELD_SETTER(ACListsStatesActor_OnAppCounterChanged, counters_, ARApiAppCounters *)

@interface ACListsStatesActor_OnContactsChanged () {
 @public
  jboolean isEmpty_;
}

@end

@interface ACListsStatesActor_OnDialogsChanged () {
 @public
  jboolean isEmpty_;
}

@end

#line 0 "/Users/ex3ndr/Develop/actor-proprietary/actor-sdk/sdk-core/core/core-shared/src/main/java//im/actor/core/modules/internal/state/ListsStatesActor.java"


#line 16
@implementation ACListsStatesActor


#line 20
- (instancetype)initWithACModuleContext:(id<ACModuleContext>)context {
  ACListsStatesActor_initWithACModuleContext_(self, context);
  return self;
}

- (void)preStart {
  [super preStart];
  
#line 28
  counters_ = new_ARApiAppCounters_init();
  IOSByteArray *data = [((id<ARPreferencesStorage>) nil_chk([self preferences])) getBytesWithKey:@"app.counter_raw"];
  if (data != nil) {
    @try {
      ARApiAppCounters *nCounters = new_ARApiAppCounters_init();
      [nCounters parseWithARBserValues:new_ARBserValues_initWithARSparseArray_(ARBserParser_deserializeWithARDataInput_(new_ARDataInput_initWithByteArray_(data)))];
      counters_ = nCounters;
    }
    @catch (
#line 35
    JavaIoIOException *e) {
      [((JavaIoIOException *) nil_chk(e)) printStackTrace];
    }
  }
  
#line 40
  JavaLangInteger *counter = [counters_ getGlobalCounter];
  if (counter != nil) {
    [((ACAppStateVM *) nil_chk([((ACAppStateModule *) nil_chk([((id<ACModuleContext>) nil_chk([self context])) getAppStateModule])) getAppStateVM])) onGlobalCounterChangedWithInt:[counter intValue]];
  }
  else {
    
#line 44
    [((ACAppStateVM *) nil_chk([((ACAppStateModule *) nil_chk([((id<ACModuleContext>) nil_chk([self context])) getAppStateModule])) getAppStateVM])) onGlobalCounterChangedWithInt:0];
  }
}


#line 48
- (void)onCounterChangedWithARApiAppCounters:(ARApiAppCounters *)counters {
  [((id<ARPreferencesStorage>) nil_chk([self preferences])) putBytesWithKey:@"app.counter_raw" withValue:[((ARApiAppCounters *) nil_chk(counters)) toByteArray]];
  JavaLangInteger *counter = [counters getGlobalCounter];
  if (counter != nil) {
    [((ACAppStateVM *) nil_chk([((ACAppStateModule *) nil_chk([((id<ACModuleContext>) nil_chk([self context])) getAppStateModule])) getAppStateVM])) onGlobalCounterChangedWithInt:[counter intValue]];
  }
  else {
    
#line 54
    [((ACAppStateVM *) nil_chk([((ACAppStateModule *) nil_chk([((id<ACModuleContext>) nil_chk([self context])) getAppStateModule])) getAppStateVM])) onGlobalCounterChangedWithInt:0];
  }
}


#line 58
- (void)onDialogsChangedWithBoolean:(jboolean)isEmpty {
  [((ACAppStateVM *) nil_chk([((ACAppStateModule *) nil_chk([((id<ACModuleContext>) nil_chk([self context])) getAppStateModule])) getAppStateVM])) onDialogsChangedWithBoolean:isEmpty];
}

- (void)onContactsChangedWithBoolean:(jboolean)isEmpty {
  [((ACAppStateVM *) nil_chk([((ACAppStateModule *) nil_chk([((id<ACModuleContext>) nil_chk([self context])) getAppStateModule])) getAppStateVM])) onContactsChangedWithBoolean:isEmpty];
}

- (void)onBookImported {
  [((ACAppStateVM *) nil_chk([((ACAppStateModule *) nil_chk([((id<ACModuleContext>) nil_chk([self context])) getAppStateModule])) getAppStateVM])) onPhoneImported];
}

- (void)onContactsLoaded {
  [((ACAppStateVM *) nil_chk([((ACAppStateModule *) nil_chk([((id<ACModuleContext>) nil_chk([self context])) getAppStateModule])) getAppStateVM])) onContactsLoaded];
}

- (void)onDialogsLoaded {
  [((ACAppStateVM *) nil_chk([((ACAppStateModule *) nil_chk([((id<ACModuleContext>) nil_chk([self context])) getAppStateModule])) getAppStateVM])) onDialogsLoaded];
}


#line 79
- (void)onReceiveWithId:(id)message {
  if ([message isKindOfClass:[ACListsStatesActor_OnContactsChanged class]]) {
    [self onContactsChangedWithBoolean:[((ACListsStatesActor_OnContactsChanged *) nil_chk(((ACListsStatesActor_OnContactsChanged *) check_class_cast(message, [ACListsStatesActor_OnContactsChanged class])))) isEmpty]];
  }
  else
#line 82
  if ([message isKindOfClass:[ACListsStatesActor_OnDialogsChanged class]]) {
    [self onDialogsChangedWithBoolean:[((ACListsStatesActor_OnDialogsChanged *) nil_chk(((ACListsStatesActor_OnDialogsChanged *) check_class_cast(message, [ACListsStatesActor_OnDialogsChanged class])))) isEmpty]];
  }
  else
#line 84
  if ([message isKindOfClass:[ACListsStatesActor_OnBookImported class]]) {
    [self onBookImported];
  }
  else
#line 86
  if ([message isKindOfClass:[ACListsStatesActor_OnContactsLoaded class]]) {
    [self onContactsLoaded];
  }
  else
#line 88
  if ([message isKindOfClass:[ACListsStatesActor_OnDialogsLoaded class]]) {
    [self onDialogsLoaded];
  }
  else
#line 90
  if ([message isKindOfClass:[ACListsStatesActor_OnAppCounterChanged class]]) {
    [self onCounterChangedWithARApiAppCounters:[((ACListsStatesActor_OnAppCounterChanged *) nil_chk(((ACListsStatesActor_OnAppCounterChanged *) check_class_cast(message, [ACListsStatesActor_OnAppCounterChanged class])))) getCounters]];
  }
  else {
    
#line 93
    [self dropWithId:message];
  }
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithACModuleContext:", "ListsStatesActor", NULL, 0x1, NULL, NULL },
    { "preStart", NULL, "V", 0x1, NULL, NULL },
    { "onCounterChangedWithARApiAppCounters:", "onCounterChanged", "V", 0x1, NULL, NULL },
    { "onDialogsChangedWithBoolean:", "onDialogsChanged", "V", 0x1, NULL, NULL },
    { "onContactsChangedWithBoolean:", "onContactsChanged", "V", 0x1, NULL, NULL },
    { "onBookImported", NULL, "V", 0x1, NULL, NULL },
    { "onContactsLoaded", NULL, "V", 0x1, NULL, NULL },
    { "onDialogsLoaded", NULL, "V", 0x1, NULL, NULL },
    { "onReceiveWithId:", "onReceive", "V", 0x1, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "counters_", NULL, 0x2, "Lim.actor.core.api.ApiAppCounters;", NULL, NULL, .constantValue.asLong = 0 },
  };
  static const char *inner_classes[] = {"Lim.actor.core.modules.internal.state.ListsStatesActor$OnAppCounterChanged;", "Lim.actor.core.modules.internal.state.ListsStatesActor$OnBookImported;", "Lim.actor.core.modules.internal.state.ListsStatesActor$OnContactsLoaded;", "Lim.actor.core.modules.internal.state.ListsStatesActor$OnDialogsLoaded;", "Lim.actor.core.modules.internal.state.ListsStatesActor$OnContactsChanged;", "Lim.actor.core.modules.internal.state.ListsStatesActor$OnDialogsChanged;"};
  static const J2ObjcClassInfo _ACListsStatesActor = { 2, "ListsStatesActor", "im.actor.core.modules.internal.state", NULL, 0x1, 9, methods, 1, fields, 0, NULL, 6, inner_classes, NULL, NULL };
  return &_ACListsStatesActor;
}

@end


#line 20
void ACListsStatesActor_initWithACModuleContext_(ACListsStatesActor *self, id<ACModuleContext> context) {
  (void) ACModuleActor_initWithACModuleContext_(self, context);
}


#line 20
ACListsStatesActor *new_ACListsStatesActor_initWithACModuleContext_(id<ACModuleContext> context) {
  ACListsStatesActor *self = [ACListsStatesActor alloc];
  ACListsStatesActor_initWithACModuleContext_(self, context);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ACListsStatesActor)

#line 0 "/Users/ex3ndr/Develop/actor-proprietary/actor-sdk/sdk-core/core/core-shared/src/main/java//im/actor/core/modules/internal/state/ListsStatesActor.java"


#line 97
@implementation ACListsStatesActor_OnAppCounterChanged


#line 100
- (instancetype)initWithARApiAppCounters:(ARApiAppCounters *)counters {
  ACListsStatesActor_OnAppCounterChanged_initWithARApiAppCounters_(self, counters);
  return self;
}


#line 104
- (ARApiAppCounters *)getCounters {
  return counters_;
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithARApiAppCounters:", "OnAppCounterChanged", NULL, 0x1, NULL, NULL },
    { "getCounters", NULL, "Lim.actor.core.api.ApiAppCounters;", 0x1, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "counters_", NULL, 0x2, "Lim.actor.core.api.ApiAppCounters;", NULL, NULL, .constantValue.asLong = 0 },
  };
  static const J2ObjcClassInfo _ACListsStatesActor_OnAppCounterChanged = { 2, "OnAppCounterChanged", "im.actor.core.modules.internal.state", "ListsStatesActor", 0x9, 2, methods, 1, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_ACListsStatesActor_OnAppCounterChanged;
}

@end


#line 100
void ACListsStatesActor_OnAppCounterChanged_initWithARApiAppCounters_(ACListsStatesActor_OnAppCounterChanged *self, ARApiAppCounters *counters) {
  (void) NSObject_init(self);
  
#line 101
  self->counters_ = counters;
}


#line 100
ACListsStatesActor_OnAppCounterChanged *new_ACListsStatesActor_OnAppCounterChanged_initWithARApiAppCounters_(ARApiAppCounters *counters) {
  ACListsStatesActor_OnAppCounterChanged *self = [ACListsStatesActor_OnAppCounterChanged alloc];
  ACListsStatesActor_OnAppCounterChanged_initWithARApiAppCounters_(self, counters);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ACListsStatesActor_OnAppCounterChanged)

#line 0 "/Users/ex3ndr/Develop/actor-proprietary/actor-sdk/sdk-core/core/core-shared/src/main/java//im/actor/core/modules/internal/state/ListsStatesActor.java"


#line 109
@implementation ACListsStatesActor_OnBookImported

J2OBJC_IGNORE_DESIGNATED_BEGIN
- (instancetype)init {
  ACListsStatesActor_OnBookImported_init(self);
  return self;
}
J2OBJC_IGNORE_DESIGNATED_END

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "init", NULL, NULL, 0x1, NULL, NULL },
  };
  static const J2ObjcClassInfo _ACListsStatesActor_OnBookImported = { 2, "OnBookImported", "im.actor.core.modules.internal.state", "ListsStatesActor", 0x9, 1, methods, 0, NULL, 0, NULL, 0, NULL, NULL, NULL };
  return &_ACListsStatesActor_OnBookImported;
}

@end

void ACListsStatesActor_OnBookImported_init(ACListsStatesActor_OnBookImported *self) {
  (void) NSObject_init(self);
}

ACListsStatesActor_OnBookImported *new_ACListsStatesActor_OnBookImported_init() {
  ACListsStatesActor_OnBookImported *self = [ACListsStatesActor_OnBookImported alloc];
  ACListsStatesActor_OnBookImported_init(self);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ACListsStatesActor_OnBookImported)

#line 0 "/Users/ex3ndr/Develop/actor-proprietary/actor-sdk/sdk-core/core/core-shared/src/main/java//im/actor/core/modules/internal/state/ListsStatesActor.java"


#line 113
@implementation ACListsStatesActor_OnContactsLoaded

J2OBJC_IGNORE_DESIGNATED_BEGIN
- (instancetype)init {
  ACListsStatesActor_OnContactsLoaded_init(self);
  return self;
}
J2OBJC_IGNORE_DESIGNATED_END

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "init", NULL, NULL, 0x1, NULL, NULL },
  };
  static const J2ObjcClassInfo _ACListsStatesActor_OnContactsLoaded = { 2, "OnContactsLoaded", "im.actor.core.modules.internal.state", "ListsStatesActor", 0x9, 1, methods, 0, NULL, 0, NULL, 0, NULL, NULL, NULL };
  return &_ACListsStatesActor_OnContactsLoaded;
}

@end

void ACListsStatesActor_OnContactsLoaded_init(ACListsStatesActor_OnContactsLoaded *self) {
  (void) NSObject_init(self);
}

ACListsStatesActor_OnContactsLoaded *new_ACListsStatesActor_OnContactsLoaded_init() {
  ACListsStatesActor_OnContactsLoaded *self = [ACListsStatesActor_OnContactsLoaded alloc];
  ACListsStatesActor_OnContactsLoaded_init(self);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ACListsStatesActor_OnContactsLoaded)

#line 0 "/Users/ex3ndr/Develop/actor-proprietary/actor-sdk/sdk-core/core/core-shared/src/main/java//im/actor/core/modules/internal/state/ListsStatesActor.java"


#line 117
@implementation ACListsStatesActor_OnDialogsLoaded

J2OBJC_IGNORE_DESIGNATED_BEGIN
- (instancetype)init {
  ACListsStatesActor_OnDialogsLoaded_init(self);
  return self;
}
J2OBJC_IGNORE_DESIGNATED_END

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "init", NULL, NULL, 0x1, NULL, NULL },
  };
  static const J2ObjcClassInfo _ACListsStatesActor_OnDialogsLoaded = { 2, "OnDialogsLoaded", "im.actor.core.modules.internal.state", "ListsStatesActor", 0x9, 1, methods, 0, NULL, 0, NULL, 0, NULL, NULL, NULL };
  return &_ACListsStatesActor_OnDialogsLoaded;
}

@end

void ACListsStatesActor_OnDialogsLoaded_init(ACListsStatesActor_OnDialogsLoaded *self) {
  (void) NSObject_init(self);
}

ACListsStatesActor_OnDialogsLoaded *new_ACListsStatesActor_OnDialogsLoaded_init() {
  ACListsStatesActor_OnDialogsLoaded *self = [ACListsStatesActor_OnDialogsLoaded alloc];
  ACListsStatesActor_OnDialogsLoaded_init(self);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ACListsStatesActor_OnDialogsLoaded)

#line 0 "/Users/ex3ndr/Develop/actor-proprietary/actor-sdk/sdk-core/core/core-shared/src/main/java//im/actor/core/modules/internal/state/ListsStatesActor.java"


#line 121
@implementation ACListsStatesActor_OnContactsChanged


#line 124
- (instancetype)initWithBoolean:(jboolean)isEmpty {
  ACListsStatesActor_OnContactsChanged_initWithBoolean_(self, isEmpty);
  return self;
}


#line 128
- (jboolean)isEmpty {
  return isEmpty_;
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithBoolean:", "OnContactsChanged", NULL, 0x1, NULL, NULL },
    { "isEmpty", NULL, "Z", 0x1, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "isEmpty_", NULL, 0x2, "Z", NULL, NULL, .constantValue.asLong = 0 },
  };
  static const J2ObjcClassInfo _ACListsStatesActor_OnContactsChanged = { 2, "OnContactsChanged", "im.actor.core.modules.internal.state", "ListsStatesActor", 0x9, 2, methods, 1, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_ACListsStatesActor_OnContactsChanged;
}

@end


#line 124
void ACListsStatesActor_OnContactsChanged_initWithBoolean_(ACListsStatesActor_OnContactsChanged *self, jboolean isEmpty) {
  (void) NSObject_init(self);
  
#line 125
  self->isEmpty_ = isEmpty;
}


#line 124
ACListsStatesActor_OnContactsChanged *new_ACListsStatesActor_OnContactsChanged_initWithBoolean_(jboolean isEmpty) {
  ACListsStatesActor_OnContactsChanged *self = [ACListsStatesActor_OnContactsChanged alloc];
  ACListsStatesActor_OnContactsChanged_initWithBoolean_(self, isEmpty);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ACListsStatesActor_OnContactsChanged)

#line 0 "/Users/ex3ndr/Develop/actor-proprietary/actor-sdk/sdk-core/core/core-shared/src/main/java//im/actor/core/modules/internal/state/ListsStatesActor.java"


#line 133
@implementation ACListsStatesActor_OnDialogsChanged


#line 136
- (instancetype)initWithBoolean:(jboolean)isEmpty {
  ACListsStatesActor_OnDialogsChanged_initWithBoolean_(self, isEmpty);
  return self;
}


#line 140
- (jboolean)isEmpty {
  return isEmpty_;
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithBoolean:", "OnDialogsChanged", NULL, 0x1, NULL, NULL },
    { "isEmpty", NULL, "Z", 0x1, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "isEmpty_", NULL, 0x2, "Z", NULL, NULL, .constantValue.asLong = 0 },
  };
  static const J2ObjcClassInfo _ACListsStatesActor_OnDialogsChanged = { 2, "OnDialogsChanged", "im.actor.core.modules.internal.state", "ListsStatesActor", 0x9, 2, methods, 1, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_ACListsStatesActor_OnDialogsChanged;
}

@end


#line 136
void ACListsStatesActor_OnDialogsChanged_initWithBoolean_(ACListsStatesActor_OnDialogsChanged *self, jboolean isEmpty) {
  (void) NSObject_init(self);
  
#line 137
  self->isEmpty_ = isEmpty;
}


#line 136
ACListsStatesActor_OnDialogsChanged *new_ACListsStatesActor_OnDialogsChanged_initWithBoolean_(jboolean isEmpty) {
  ACListsStatesActor_OnDialogsChanged *self = [ACListsStatesActor_OnDialogsChanged alloc];
  ACListsStatesActor_OnDialogsChanged_initWithBoolean_(self, isEmpty);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ACListsStatesActor_OnDialogsChanged)

#pragma clang diagnostic pop
