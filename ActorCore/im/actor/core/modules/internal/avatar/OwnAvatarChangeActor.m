//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/ex3ndr/Develop/actor-proprietary/actor-sdk/sdk-core/core/core-shared/src/main/java//im/actor/core/modules/internal/avatar/OwnAvatarChangeActor.java
//

#include "IOSClass.h"
#include "IOSPrimitiveArray.h"
#include "J2ObjC_source.h"
#include "im/actor/core/api/ApiAvatar.h"
#include "im/actor/core/api/ApiFileLocation.h"
#include "im/actor/core/api/base/SeqUpdate.h"
#include "im/actor/core/api/rpc/RequestEditAvatar.h"
#include "im/actor/core/api/rpc/RequestRemoveAvatar.h"
#include "im/actor/core/api/rpc/ResponseEditAvatar.h"
#include "im/actor/core/api/rpc/ResponseSeq.h"
#include "im/actor/core/api/updates/UpdateUserAvatarChanged.h"
#include "im/actor/core/entity/FileReference.h"
#include "im/actor/core/modules/ModuleContext.h"
#include "im/actor/core/modules/Modules.h"
#include "im/actor/core/modules/Updates.h"
#include "im/actor/core/modules/internal/FilesModule.h"
#include "im/actor/core/modules/internal/ProfileModule.h"
#include "im/actor/core/modules/internal/avatar/OwnAvatarChangeActor.h"
#include "im/actor/core/modules/internal/file/UploadManager.h"
#include "im/actor/core/modules/updates/internal/ExecuteAfter.h"
#include "im/actor/core/modules/utils/ModuleActor.h"
#include "im/actor/core/modules/utils/RandomUtils.h"
#include "im/actor/core/network/RpcCallback.h"
#include "im/actor/core/network/RpcException.h"
#include "im/actor/core/viewmodel/AvatarUploadState.h"
#include "im/actor/core/viewmodel/OwnAvatarVM.h"
#include "im/actor/runtime/actors/Actor.h"
#include "im/actor/runtime/actors/ActorRef.h"
#include "im/actor/runtime/mvvm/ValueModel.h"
#include "java/lang/Runnable.h"

#pragma clang diagnostic push
#pragma GCC diagnostic ignored "-Wdeprecated-declarations"

@interface ACOwnAvatarChangeActor () {
 @public
  jlong currentChangeTask_;
}

@end

@interface ACOwnAvatarChangeActor_ChangeAvatar () {
 @public
  NSString *descriptor_;
}

@end

J2OBJC_FIELD_SETTER(ACOwnAvatarChangeActor_ChangeAvatar, descriptor_, NSString *)

@interface ACOwnAvatarChangeActor_AvatarChanged () {
 @public
  jlong rid_;
}

@end

@interface ACOwnAvatarChangeActor_$1 : NSObject < ACRpcCallback > {
 @public
  ACOwnAvatarChangeActor *this$0_;
  jlong val$rid_;
}

- (void)onResult:(ARResponseEditAvatar *)response;

- (void)onError:(ACRpcException *)e;

- (instancetype)initWithACOwnAvatarChangeActor:(ACOwnAvatarChangeActor *)outer$
                                      withLong:(jlong)capture$0;

@end

J2OBJC_EMPTY_STATIC_INIT(ACOwnAvatarChangeActor_$1)

J2OBJC_FIELD_SETTER(ACOwnAvatarChangeActor_$1, this$0_, ACOwnAvatarChangeActor *)

__attribute__((unused)) static void ACOwnAvatarChangeActor_$1_initWithACOwnAvatarChangeActor_withLong_(ACOwnAvatarChangeActor_$1 *self, ACOwnAvatarChangeActor *outer$, jlong capture$0);

__attribute__((unused)) static ACOwnAvatarChangeActor_$1 *new_ACOwnAvatarChangeActor_$1_initWithACOwnAvatarChangeActor_withLong_(ACOwnAvatarChangeActor *outer$, jlong capture$0) NS_RETURNS_RETAINED;

J2OBJC_TYPE_LITERAL_HEADER(ACOwnAvatarChangeActor_$1)

@interface ACOwnAvatarChangeActor_$1_$1 : NSObject < JavaLangRunnable > {
 @public
  ACOwnAvatarChangeActor_$1 *this$0_;
}

- (void)run;

- (instancetype)initWithACOwnAvatarChangeActor_$1:(ACOwnAvatarChangeActor_$1 *)outer$;

@end

J2OBJC_EMPTY_STATIC_INIT(ACOwnAvatarChangeActor_$1_$1)

J2OBJC_FIELD_SETTER(ACOwnAvatarChangeActor_$1_$1, this$0_, ACOwnAvatarChangeActor_$1 *)

__attribute__((unused)) static void ACOwnAvatarChangeActor_$1_$1_initWithACOwnAvatarChangeActor_$1_(ACOwnAvatarChangeActor_$1_$1 *self, ACOwnAvatarChangeActor_$1 *outer$);

__attribute__((unused)) static ACOwnAvatarChangeActor_$1_$1 *new_ACOwnAvatarChangeActor_$1_$1_initWithACOwnAvatarChangeActor_$1_(ACOwnAvatarChangeActor_$1 *outer$) NS_RETURNS_RETAINED;

J2OBJC_TYPE_LITERAL_HEADER(ACOwnAvatarChangeActor_$1_$1)

@interface ACOwnAvatarChangeActor_$2 : NSObject < ACRpcCallback > {
 @public
  ACOwnAvatarChangeActor *this$0_;
  jlong val$currentRid_;
}

- (void)onResult:(ARResponseSeq *)response;

- (void)onError:(ACRpcException *)e;

- (instancetype)initWithACOwnAvatarChangeActor:(ACOwnAvatarChangeActor *)outer$
                                      withLong:(jlong)capture$0;

@end

J2OBJC_EMPTY_STATIC_INIT(ACOwnAvatarChangeActor_$2)

J2OBJC_FIELD_SETTER(ACOwnAvatarChangeActor_$2, this$0_, ACOwnAvatarChangeActor *)

__attribute__((unused)) static void ACOwnAvatarChangeActor_$2_initWithACOwnAvatarChangeActor_withLong_(ACOwnAvatarChangeActor_$2 *self, ACOwnAvatarChangeActor *outer$, jlong capture$0);

__attribute__((unused)) static ACOwnAvatarChangeActor_$2 *new_ACOwnAvatarChangeActor_$2_initWithACOwnAvatarChangeActor_withLong_(ACOwnAvatarChangeActor *outer$, jlong capture$0) NS_RETURNS_RETAINED;

J2OBJC_TYPE_LITERAL_HEADER(ACOwnAvatarChangeActor_$2)

@interface ACOwnAvatarChangeActor_$2_$1 : NSObject < JavaLangRunnable > {
 @public
  ACOwnAvatarChangeActor_$2 *this$0_;
}

- (void)run;

- (instancetype)initWithACOwnAvatarChangeActor_$2:(ACOwnAvatarChangeActor_$2 *)outer$;

@end

J2OBJC_EMPTY_STATIC_INIT(ACOwnAvatarChangeActor_$2_$1)

J2OBJC_FIELD_SETTER(ACOwnAvatarChangeActor_$2_$1, this$0_, ACOwnAvatarChangeActor_$2 *)

__attribute__((unused)) static void ACOwnAvatarChangeActor_$2_$1_initWithACOwnAvatarChangeActor_$2_(ACOwnAvatarChangeActor_$2_$1 *self, ACOwnAvatarChangeActor_$2 *outer$);

__attribute__((unused)) static ACOwnAvatarChangeActor_$2_$1 *new_ACOwnAvatarChangeActor_$2_$1_initWithACOwnAvatarChangeActor_$2_(ACOwnAvatarChangeActor_$2 *outer$) NS_RETURNS_RETAINED;

J2OBJC_TYPE_LITERAL_HEADER(ACOwnAvatarChangeActor_$2_$1)

#line 0 "/Users/ex3ndr/Develop/actor-proprietary/actor-sdk/sdk-core/core/core-shared/src/main/java//im/actor/core/modules/internal/avatar/OwnAvatarChangeActor.java"


#line 24
@implementation ACOwnAvatarChangeActor


#line 28
- (instancetype)initWithACModules:(ACModules *)modules {
  ACOwnAvatarChangeActor_initWithACModules_(self, modules);
  return self;
}


#line 32
- (void)changeAvatarWithNSString:(NSString *)descriptor {
  if (currentChangeTask_ != 0) {
    [((ACFilesModule *) nil_chk([((id<ACModuleContext>) nil_chk([self context])) getFilesModule])) cancelUploadWithLong:currentChangeTask_];
    currentChangeTask_ = 0;
  }
  currentChangeTask_ = ACRandomUtils_nextRid();
  
#line 39
  [((ARValueModel *) nil_chk([((ACOwnAvatarVM *) nil_chk([((ACProfileModule *) nil_chk([((id<ACModuleContext>) nil_chk([self context])) getProfileModule])) getOwnAvatarVM])) getUploadState])) changeWithValue:new_ACAvatarUploadState_initWithNSString_withBoolean_(descriptor, true)];
  
#line 41
  [((ACFilesModule *) nil_chk([((id<ACModuleContext>) nil_chk([self context])) getFilesModule])) requestUploadWithLong:currentChangeTask_ withNSString:descriptor withNSString:@"avatar.jpg" withARActorRef:[self self__]];
}


#line 44
- (void)uploadCompletedWithLong:(jlong)rid
            withACFileReference:(ACFileReference *)fileReference {
  if (rid != currentChangeTask_) {
    return;
  }
  [self requestWithACRequest:new_ARRequestEditAvatar_initWithARApiFileLocation_(new_ARApiFileLocation_initWithLong_withLong_([((ACFileReference *) nil_chk(fileReference)) getFileId],
#line 49
  [fileReference getAccessHash])) withACRpcCallback:new_ACOwnAvatarChangeActor_$1_initWithACOwnAvatarChangeActor_withLong_(self, rid)];
}


#line 78
- (void)avatarChangedWithLong:(jlong)rid {
  if (rid != currentChangeTask_) {
    return;
  }
  currentChangeTask_ = 0;
  [((ARValueModel *) nil_chk([((ACOwnAvatarVM *) nil_chk([((ACProfileModule *) nil_chk([((id<ACModuleContext>) nil_chk([self context])) getProfileModule])) getOwnAvatarVM])) getUploadState])) changeWithValue:new_ACAvatarUploadState_initWithNSString_withBoolean_(nil, false)];
}

- (void)uploadErrorWithLong:(jlong)rid {
  if (rid != currentChangeTask_) {
    return;
  }
  currentChangeTask_ = 0;
  [((ARValueModel *) nil_chk([((ACOwnAvatarVM *) nil_chk([((ACProfileModule *) nil_chk([((id<ACModuleContext>) nil_chk([self context])) getProfileModule])) getOwnAvatarVM])) getUploadState])) changeWithValue:new_ACAvatarUploadState_initWithNSString_withBoolean_(nil, false)];
}

- (void)removeAvatar {
  if (currentChangeTask_ != 0) {
    [((ACFilesModule *) nil_chk([((id<ACModuleContext>) nil_chk([self context])) getFilesModule])) cancelUploadWithLong:currentChangeTask_];
    currentChangeTask_ = 0;
  }
  currentChangeTask_ = ACRandomUtils_nextRid();
  
#line 101
  [((ARValueModel *) nil_chk([((ACOwnAvatarVM *) nil_chk([((ACProfileModule *) nil_chk([((id<ACModuleContext>) nil_chk([self context])) getProfileModule])) getOwnAvatarVM])) getUploadState])) changeWithValue:new_ACAvatarUploadState_initWithNSString_withBoolean_(nil, true)];
  jlong currentRid = currentChangeTask_;
  [self requestWithACRequest:new_ARRequestRemoveAvatar_init() withACRpcCallback:new_ACOwnAvatarChangeActor_$2_initWithACOwnAvatarChangeActor_withLong_(self, currentRid)];
}


#line 133
- (void)onReceiveWithId:(id)message {
  if ([message isKindOfClass:[ACOwnAvatarChangeActor_ChangeAvatar class]]) {
    ACOwnAvatarChangeActor_ChangeAvatar *changeAvatar = (ACOwnAvatarChangeActor_ChangeAvatar *) check_class_cast(message, [ACOwnAvatarChangeActor_ChangeAvatar class]);
    [self changeAvatarWithNSString:[((ACOwnAvatarChangeActor_ChangeAvatar *) nil_chk(changeAvatar)) getDescriptor]];
  }
  else
#line 137
  if ([message isKindOfClass:[ACUploadManager_UploadCompleted class]]) {
    ACUploadManager_UploadCompleted *uploadCompleted = (ACUploadManager_UploadCompleted *) check_class_cast(message, [ACUploadManager_UploadCompleted class]);
    [self uploadCompletedWithLong:[((ACUploadManager_UploadCompleted *) nil_chk(uploadCompleted)) getRid] withACFileReference:[uploadCompleted getFileReference]];
  }
  else
#line 140
  if ([message isKindOfClass:[ACUploadManager_UploadError class]]) {
    ACUploadManager_UploadError *uploadError = (ACUploadManager_UploadError *) check_class_cast(message, [ACUploadManager_UploadError class]);
    [self uploadErrorWithLong:[((ACUploadManager_UploadError *) nil_chk(uploadError)) getRid]];
  }
  else
#line 143
  if ([message isKindOfClass:[ACOwnAvatarChangeActor_RemoveAvatar class]]) {
    [self removeAvatar];
  }
  else
#line 145
  if ([message isKindOfClass:[ACOwnAvatarChangeActor_AvatarChanged class]]) {
    [self avatarChangedWithLong:[((ACOwnAvatarChangeActor_AvatarChanged *) nil_chk(((ACOwnAvatarChangeActor_AvatarChanged *) check_class_cast(message, [ACOwnAvatarChangeActor_AvatarChanged class])))) getRid]];
  }
  else {
    
#line 148
    [self dropWithId:message];
  }
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithACModules:", "OwnAvatarChangeActor", NULL, 0x1, NULL, NULL },
    { "changeAvatarWithNSString:", "changeAvatar", "V", 0x1, NULL, NULL },
    { "uploadCompletedWithLong:withACFileReference:", "uploadCompleted", "V", 0x1, NULL, NULL },
    { "avatarChangedWithLong:", "avatarChanged", "V", 0x1, NULL, NULL },
    { "uploadErrorWithLong:", "uploadError", "V", 0x1, NULL, NULL },
    { "removeAvatar", NULL, "V", 0x1, NULL, NULL },
    { "onReceiveWithId:", "onReceive", "V", 0x1, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "currentChangeTask_", NULL, 0x2, "J", NULL, NULL, .constantValue.asLong = 0 },
  };
  static const char *inner_classes[] = {"Lim.actor.core.modules.internal.avatar.OwnAvatarChangeActor$ChangeAvatar;", "Lim.actor.core.modules.internal.avatar.OwnAvatarChangeActor$RemoveAvatar;", "Lim.actor.core.modules.internal.avatar.OwnAvatarChangeActor$AvatarChanged;"};
  static const J2ObjcClassInfo _ACOwnAvatarChangeActor = { 2, "OwnAvatarChangeActor", "im.actor.core.modules.internal.avatar", NULL, 0x1, 7, methods, 1, fields, 0, NULL, 3, inner_classes, NULL, NULL };
  return &_ACOwnAvatarChangeActor;
}

@end


#line 28
void ACOwnAvatarChangeActor_initWithACModules_(ACOwnAvatarChangeActor *self, ACModules *modules) {
  (void) ACModuleActor_initWithACModuleContext_(self, modules);
  self->currentChangeTask_ =
#line 26
  0;
}


#line 28
ACOwnAvatarChangeActor *new_ACOwnAvatarChangeActor_initWithACModules_(ACModules *modules) {
  ACOwnAvatarChangeActor *self = [ACOwnAvatarChangeActor alloc];
  ACOwnAvatarChangeActor_initWithACModules_(self, modules);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ACOwnAvatarChangeActor)

#line 0 "/Users/ex3ndr/Develop/actor-proprietary/actor-sdk/sdk-core/core/core-shared/src/main/java//im/actor/core/modules/internal/avatar/OwnAvatarChangeActor.java"


#line 152
@implementation ACOwnAvatarChangeActor_ChangeAvatar


#line 155
- (instancetype)initWithNSString:(NSString *)descriptor {
  ACOwnAvatarChangeActor_ChangeAvatar_initWithNSString_(self, descriptor);
  return self;
}


#line 159
- (NSString *)getDescriptor {
  return descriptor_;
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithNSString:", "ChangeAvatar", NULL, 0x1, NULL, NULL },
    { "getDescriptor", NULL, "Ljava.lang.String;", 0x1, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "descriptor_", NULL, 0x2, "Ljava.lang.String;", NULL, NULL, .constantValue.asLong = 0 },
  };
  static const J2ObjcClassInfo _ACOwnAvatarChangeActor_ChangeAvatar = { 2, "ChangeAvatar", "im.actor.core.modules.internal.avatar", "OwnAvatarChangeActor", 0x9, 2, methods, 1, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_ACOwnAvatarChangeActor_ChangeAvatar;
}

@end


#line 155
void ACOwnAvatarChangeActor_ChangeAvatar_initWithNSString_(ACOwnAvatarChangeActor_ChangeAvatar *self, NSString *descriptor) {
  (void) NSObject_init(self);
  
#line 156
  self->descriptor_ = descriptor;
}


#line 155
ACOwnAvatarChangeActor_ChangeAvatar *new_ACOwnAvatarChangeActor_ChangeAvatar_initWithNSString_(NSString *descriptor) {
  ACOwnAvatarChangeActor_ChangeAvatar *self = [ACOwnAvatarChangeActor_ChangeAvatar alloc];
  ACOwnAvatarChangeActor_ChangeAvatar_initWithNSString_(self, descriptor);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ACOwnAvatarChangeActor_ChangeAvatar)

#line 0 "/Users/ex3ndr/Develop/actor-proprietary/actor-sdk/sdk-core/core/core-shared/src/main/java//im/actor/core/modules/internal/avatar/OwnAvatarChangeActor.java"


#line 164
@implementation ACOwnAvatarChangeActor_RemoveAvatar

J2OBJC_IGNORE_DESIGNATED_BEGIN
- (instancetype)init {
  ACOwnAvatarChangeActor_RemoveAvatar_init(self);
  return self;
}
J2OBJC_IGNORE_DESIGNATED_END

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "init", NULL, NULL, 0x1, NULL, NULL },
  };
  static const J2ObjcClassInfo _ACOwnAvatarChangeActor_RemoveAvatar = { 2, "RemoveAvatar", "im.actor.core.modules.internal.avatar", "OwnAvatarChangeActor", 0x9, 1, methods, 0, NULL, 0, NULL, 0, NULL, NULL, NULL };
  return &_ACOwnAvatarChangeActor_RemoveAvatar;
}

@end

void ACOwnAvatarChangeActor_RemoveAvatar_init(ACOwnAvatarChangeActor_RemoveAvatar *self) {
  (void) NSObject_init(self);
}

ACOwnAvatarChangeActor_RemoveAvatar *new_ACOwnAvatarChangeActor_RemoveAvatar_init() {
  ACOwnAvatarChangeActor_RemoveAvatar *self = [ACOwnAvatarChangeActor_RemoveAvatar alloc];
  ACOwnAvatarChangeActor_RemoveAvatar_init(self);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ACOwnAvatarChangeActor_RemoveAvatar)

#line 0 "/Users/ex3ndr/Develop/actor-proprietary/actor-sdk/sdk-core/core/core-shared/src/main/java//im/actor/core/modules/internal/avatar/OwnAvatarChangeActor.java"


#line 168
@implementation ACOwnAvatarChangeActor_AvatarChanged


#line 171
- (instancetype)initWithLong:(jlong)rid {
  ACOwnAvatarChangeActor_AvatarChanged_initWithLong_(self, rid);
  return self;
}


#line 175
- (jlong)getRid {
  return rid_;
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithLong:", "AvatarChanged", NULL, 0x1, NULL, NULL },
    { "getRid", NULL, "J", 0x1, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "rid_", NULL, 0x2, "J", NULL, NULL, .constantValue.asLong = 0 },
  };
  static const J2ObjcClassInfo _ACOwnAvatarChangeActor_AvatarChanged = { 2, "AvatarChanged", "im.actor.core.modules.internal.avatar", "OwnAvatarChangeActor", 0x9, 2, methods, 1, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_ACOwnAvatarChangeActor_AvatarChanged;
}

@end


#line 171
void ACOwnAvatarChangeActor_AvatarChanged_initWithLong_(ACOwnAvatarChangeActor_AvatarChanged *self, jlong rid) {
  (void) NSObject_init(self);
  
#line 172
  self->rid_ = rid;
}


#line 171
ACOwnAvatarChangeActor_AvatarChanged *new_ACOwnAvatarChangeActor_AvatarChanged_initWithLong_(jlong rid) {
  ACOwnAvatarChangeActor_AvatarChanged *self = [ACOwnAvatarChangeActor_AvatarChanged alloc];
  ACOwnAvatarChangeActor_AvatarChanged_initWithLong_(self, rid);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ACOwnAvatarChangeActor_AvatarChanged)

#line 0 "/Users/ex3ndr/Develop/actor-proprietary/actor-sdk/sdk-core/core/core-shared/src/main/java//im/actor/core/modules/internal/avatar/OwnAvatarChangeActor.java"

@implementation ACOwnAvatarChangeActor_$1


#line 51
- (void)onResult:(ARResponseEditAvatar *)response {
  
#line 54
  [((ACUpdates *) nil_chk([this$0_ updates])) onUpdateReceivedWithId:new_ARSeqUpdate_initWithInt_withByteArray_withInt_withByteArray_([((ARResponseEditAvatar *) nil_chk(response)) getSeq],
#line 55
  [response getState], ARUpdateUserAvatarChanged_HEADER,
#line 56
  [new_ARUpdateUserAvatarChanged_initWithInt_withARApiAvatar_([this$0_ myUid], [response getAvatar]) toByteArray])];
  
#line 59
  [((ACUpdates *) nil_chk([this$0_ updates])) onUpdateReceivedWithId:new_ACExecuteAfter_initWithInt_withJavaLangRunnable_([response getSeq], new_ACOwnAvatarChangeActor_$1_$1_initWithACOwnAvatarChangeActor_$1_(self))];
}


#line 68
- (void)onError:(ACRpcException *)e {
  if (val$rid_ != this$0_->currentChangeTask_) {
    return;
  }
  this$0_->currentChangeTask_ = 0;
  [((ARValueModel *) nil_chk([((ACOwnAvatarVM *) nil_chk([((ACProfileModule *) nil_chk([((id<ACModuleContext>) nil_chk([this$0_ context])) getProfileModule])) getOwnAvatarVM])) getUploadState])) changeWithValue:new_ACAvatarUploadState_initWithNSString_withBoolean_(nil, false)];
}

- (instancetype)initWithACOwnAvatarChangeActor:(ACOwnAvatarChangeActor *)outer$
                                      withLong:(jlong)capture$0 {
  ACOwnAvatarChangeActor_$1_initWithACOwnAvatarChangeActor_withLong_(self, outer$, capture$0);
  return self;
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "onResult:", "onResult", "V", 0x1, NULL, NULL },
    { "onError:", "onError", "V", 0x1, NULL, NULL },
    { "initWithACOwnAvatarChangeActor:withLong:", "", NULL, 0x0, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "this$0_", NULL, 0x1012, "Lim.actor.core.modules.internal.avatar.OwnAvatarChangeActor;", NULL, NULL, .constantValue.asLong = 0 },
    { "val$rid_", NULL, 0x1012, "J", NULL, NULL, .constantValue.asLong = 0 },
  };
  static const J2ObjCEnclosingMethodInfo enclosing_method = { "ACOwnAvatarChangeActor", "uploadCompletedWithLong:withACFileReference:" };
  static const J2ObjcClassInfo _ACOwnAvatarChangeActor_$1 = { 2, "", "im.actor.core.modules.internal.avatar", "OwnAvatarChangeActor", 0x8008, 3, methods, 2, fields, 0, NULL, 0, NULL, &enclosing_method, "Ljava/lang/Object;Lim/actor/core/network/RpcCallback<Lim/actor/core/api/rpc/ResponseEditAvatar;>;" };
  return &_ACOwnAvatarChangeActor_$1;
}

@end

void ACOwnAvatarChangeActor_$1_initWithACOwnAvatarChangeActor_withLong_(ACOwnAvatarChangeActor_$1 *self, ACOwnAvatarChangeActor *outer$, jlong capture$0) {
  self->this$0_ = outer$;
  self->val$rid_ = capture$0;
  (void) NSObject_init(self);
}

ACOwnAvatarChangeActor_$1 *new_ACOwnAvatarChangeActor_$1_initWithACOwnAvatarChangeActor_withLong_(ACOwnAvatarChangeActor *outer$, jlong capture$0) {
  ACOwnAvatarChangeActor_$1 *self = [ACOwnAvatarChangeActor_$1 alloc];
  ACOwnAvatarChangeActor_$1_initWithACOwnAvatarChangeActor_withLong_(self, outer$, capture$0);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ACOwnAvatarChangeActor_$1)

#line 0 "/Users/ex3ndr/Develop/actor-proprietary/actor-sdk/sdk-core/core/core-shared/src/main/java//im/actor/core/modules/internal/avatar/OwnAvatarChangeActor.java"

@implementation ACOwnAvatarChangeActor_$1_$1


#line 61
- (void)run {
  [((ARActorRef *) nil_chk([this$0_->this$0_ self__])) sendWithId:new_ACOwnAvatarChangeActor_AvatarChanged_initWithLong_(this$0_->val$rid_)];
}

- (instancetype)initWithACOwnAvatarChangeActor_$1:(ACOwnAvatarChangeActor_$1 *)outer$ {
  ACOwnAvatarChangeActor_$1_$1_initWithACOwnAvatarChangeActor_$1_(self, outer$);
  return self;
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "run", NULL, "V", 0x1, NULL, NULL },
    { "initWithACOwnAvatarChangeActor_$1:", "", NULL, 0x0, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "this$0_", NULL, 0x1012, "Lim.actor.core.modules.internal.avatar.OwnAvatarChangeActor$1;", NULL, NULL, .constantValue.asLong = 0 },
  };
  static const J2ObjCEnclosingMethodInfo enclosing_method = { "ACOwnAvatarChangeActor_$1", "onResult:" };
  static const J2ObjcClassInfo _ACOwnAvatarChangeActor_$1_$1 = { 2, "", "im.actor.core.modules.internal.avatar", "OwnAvatarChangeActor$", 0x8008, 2, methods, 1, fields, 0, NULL, 0, NULL, &enclosing_method, NULL };
  return &_ACOwnAvatarChangeActor_$1_$1;
}

@end

void ACOwnAvatarChangeActor_$1_$1_initWithACOwnAvatarChangeActor_$1_(ACOwnAvatarChangeActor_$1_$1 *self, ACOwnAvatarChangeActor_$1 *outer$) {
  self->this$0_ = outer$;
  (void) NSObject_init(self);
}

ACOwnAvatarChangeActor_$1_$1 *new_ACOwnAvatarChangeActor_$1_$1_initWithACOwnAvatarChangeActor_$1_(ACOwnAvatarChangeActor_$1 *outer$) {
  ACOwnAvatarChangeActor_$1_$1 *self = [ACOwnAvatarChangeActor_$1_$1 alloc];
  ACOwnAvatarChangeActor_$1_$1_initWithACOwnAvatarChangeActor_$1_(self, outer$);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ACOwnAvatarChangeActor_$1_$1)

#line 0 "/Users/ex3ndr/Develop/actor-proprietary/actor-sdk/sdk-core/core/core-shared/src/main/java//im/actor/core/modules/internal/avatar/OwnAvatarChangeActor.java"

@implementation ACOwnAvatarChangeActor_$2


#line 105
- (void)onResult:(ARResponseSeq *)response {
  [((ACUpdates *) nil_chk([this$0_ updates])) onUpdateReceivedWithId:new_ARSeqUpdate_initWithInt_withByteArray_withInt_withByteArray_([((ARResponseSeq *) nil_chk(response)) getSeq],
#line 107
  [response getState], ARUpdateUserAvatarChanged_HEADER,
#line 108
  [new_ARUpdateUserAvatarChanged_initWithInt_withARApiAvatar_([this$0_ myUid], nil) toByteArray])];
  
#line 111
  [((ACUpdates *) nil_chk([this$0_ updates])) onUpdateReceivedWithId:new_ACExecuteAfter_initWithInt_withJavaLangRunnable_([response getSeq], new_ACOwnAvatarChangeActor_$2_$1_initWithACOwnAvatarChangeActor_$2_(self))];
}


#line 120
- (void)onError:(ACRpcException *)e {
  if (val$currentRid_ != this$0_->currentChangeTask_) {
    return;
  }
  this$0_->currentChangeTask_ = 0;
  [((ARValueModel *) nil_chk([((ACOwnAvatarVM *) nil_chk([((ACProfileModule *) nil_chk([((id<ACModuleContext>) nil_chk([this$0_ context])) getProfileModule])) getOwnAvatarVM])) getUploadState])) changeWithValue:new_ACAvatarUploadState_initWithNSString_withBoolean_(nil, false)];
}

- (instancetype)initWithACOwnAvatarChangeActor:(ACOwnAvatarChangeActor *)outer$
                                      withLong:(jlong)capture$0 {
  ACOwnAvatarChangeActor_$2_initWithACOwnAvatarChangeActor_withLong_(self, outer$, capture$0);
  return self;
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "onResult:", "onResult", "V", 0x1, NULL, NULL },
    { "onError:", "onError", "V", 0x1, NULL, NULL },
    { "initWithACOwnAvatarChangeActor:withLong:", "", NULL, 0x0, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "this$0_", NULL, 0x1012, "Lim.actor.core.modules.internal.avatar.OwnAvatarChangeActor;", NULL, NULL, .constantValue.asLong = 0 },
    { "val$currentRid_", NULL, 0x1012, "J", NULL, NULL, .constantValue.asLong = 0 },
  };
  static const J2ObjCEnclosingMethodInfo enclosing_method = { "ACOwnAvatarChangeActor", "removeAvatar" };
  static const J2ObjcClassInfo _ACOwnAvatarChangeActor_$2 = { 2, "", "im.actor.core.modules.internal.avatar", "OwnAvatarChangeActor", 0x8008, 3, methods, 2, fields, 0, NULL, 0, NULL, &enclosing_method, "Ljava/lang/Object;Lim/actor/core/network/RpcCallback<Lim/actor/core/api/rpc/ResponseSeq;>;" };
  return &_ACOwnAvatarChangeActor_$2;
}

@end

void ACOwnAvatarChangeActor_$2_initWithACOwnAvatarChangeActor_withLong_(ACOwnAvatarChangeActor_$2 *self, ACOwnAvatarChangeActor *outer$, jlong capture$0) {
  self->this$0_ = outer$;
  self->val$currentRid_ = capture$0;
  (void) NSObject_init(self);
}

ACOwnAvatarChangeActor_$2 *new_ACOwnAvatarChangeActor_$2_initWithACOwnAvatarChangeActor_withLong_(ACOwnAvatarChangeActor *outer$, jlong capture$0) {
  ACOwnAvatarChangeActor_$2 *self = [ACOwnAvatarChangeActor_$2 alloc];
  ACOwnAvatarChangeActor_$2_initWithACOwnAvatarChangeActor_withLong_(self, outer$, capture$0);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ACOwnAvatarChangeActor_$2)

#line 0 "/Users/ex3ndr/Develop/actor-proprietary/actor-sdk/sdk-core/core/core-shared/src/main/java//im/actor/core/modules/internal/avatar/OwnAvatarChangeActor.java"

@implementation ACOwnAvatarChangeActor_$2_$1


#line 113
- (void)run {
  [((ARActorRef *) nil_chk([this$0_->this$0_ self__])) sendWithId:new_ACOwnAvatarChangeActor_AvatarChanged_initWithLong_(this$0_->val$currentRid_)];
}

- (instancetype)initWithACOwnAvatarChangeActor_$2:(ACOwnAvatarChangeActor_$2 *)outer$ {
  ACOwnAvatarChangeActor_$2_$1_initWithACOwnAvatarChangeActor_$2_(self, outer$);
  return self;
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "run", NULL, "V", 0x1, NULL, NULL },
    { "initWithACOwnAvatarChangeActor_$2:", "", NULL, 0x0, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "this$0_", NULL, 0x1012, "Lim.actor.core.modules.internal.avatar.OwnAvatarChangeActor$2;", NULL, NULL, .constantValue.asLong = 0 },
  };
  static const J2ObjCEnclosingMethodInfo enclosing_method = { "ACOwnAvatarChangeActor_$2", "onResult:" };
  static const J2ObjcClassInfo _ACOwnAvatarChangeActor_$2_$1 = { 2, "", "im.actor.core.modules.internal.avatar", "OwnAvatarChangeActor$", 0x8008, 2, methods, 1, fields, 0, NULL, 0, NULL, &enclosing_method, NULL };
  return &_ACOwnAvatarChangeActor_$2_$1;
}

@end

void ACOwnAvatarChangeActor_$2_$1_initWithACOwnAvatarChangeActor_$2_(ACOwnAvatarChangeActor_$2_$1 *self, ACOwnAvatarChangeActor_$2 *outer$) {
  self->this$0_ = outer$;
  (void) NSObject_init(self);
}

ACOwnAvatarChangeActor_$2_$1 *new_ACOwnAvatarChangeActor_$2_$1_initWithACOwnAvatarChangeActor_$2_(ACOwnAvatarChangeActor_$2 *outer$) {
  ACOwnAvatarChangeActor_$2_$1 *self = [ACOwnAvatarChangeActor_$2_$1 alloc];
  ACOwnAvatarChangeActor_$2_$1_initWithACOwnAvatarChangeActor_$2_(self, outer$);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ACOwnAvatarChangeActor_$2_$1)

#pragma clang diagnostic pop
