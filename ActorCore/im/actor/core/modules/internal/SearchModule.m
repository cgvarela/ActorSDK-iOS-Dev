//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/ex3ndr/Develop/actor-proprietary/actor-sdk/sdk-core/core/core-shared/src/main/java//im/actor/core/modules/internal/SearchModule.java
//

#include <j2objc/IOSClass.h>
#include <j2objc/IOSObjectArray.h>
#include <j2objc/IOSPrimitiveArray.h>
#include <j2objc/J2ObjC_source.h>
#include "im/actor/core/entity/SearchEntity.h"
#include "im/actor/core/modules/AbsModule.h"
#include "im/actor/core/modules/ModuleContext.h"
#include "im/actor/core/modules/Modules.h"
#include "im/actor/core/modules/internal/SearchModule.h"
#include "im/actor/core/modules/internal/search/SearchActor.h"
#include "im/actor/runtime/Storage.h"
#include "im/actor/runtime/actors/ActorCreator.h"
#include "im/actor/runtime/actors/ActorRef.h"
#include "im/actor/runtime/actors/ActorSystem.h"
#include "im/actor/runtime/actors/Props.h"
#include "im/actor/runtime/bser/BserCreator.h"
#include "im/actor/runtime/storage/ListEngine.h"
#include <j2objc/java/lang/Integer.h>
#include <j2objc/java/util/List.h>

#pragma clang diagnostic push
#pragma GCC diagnostic ignored "-Wdeprecated-declarations"

@interface ACSearchModule () {
 @public
  id<ARListEngine> searchList_;
  ARActorRef *actorRef_;
}

@end

J2OBJC_FIELD_SETTER(ACSearchModule, searchList_, id<ARListEngine>)
J2OBJC_FIELD_SETTER(ACSearchModule, actorRef_, ARActorRef *)

@interface ACSearchModule_$1 : NSObject < ARActorCreator > {
 @public
  ACSearchModule *this$0_;
}

- (ACSearchActor *)create;

- (instancetype)initWithACSearchModule:(ACSearchModule *)outer$;

@end

J2OBJC_EMPTY_STATIC_INIT(ACSearchModule_$1)

J2OBJC_FIELD_SETTER(ACSearchModule_$1, this$0_, ACSearchModule *)

__attribute__((unused)) static void ACSearchModule_$1_initWithACSearchModule_(ACSearchModule_$1 *self, ACSearchModule *outer$);

__attribute__((unused)) static ACSearchModule_$1 *new_ACSearchModule_$1_initWithACSearchModule_(ACSearchModule *outer$) NS_RETURNS_RETAINED;

J2OBJC_TYPE_LITERAL_HEADER(ACSearchModule_$1)

#line 0 "/Users/ex3ndr/Develop/actor-proprietary/actor-sdk/sdk-core/core/core-shared/src/main/java//im/actor/core/modules/internal/SearchModule.java"


#line 22
@implementation ACSearchModule


#line 27
- (instancetype)initWithACModules:(ACModules *)modules {
  ACSearchModule_initWithACModules_(self, modules);
  return self;
}


#line 33
- (void)run {
  actorRef_ = [((ARActorSystem *) nil_chk(ARActorSystem_system())) actorOfWithARProps:ARProps_createWithIOSClass_withARActorCreator_(ACSearchActor_class_(), new_ACSearchModule_$1_initWithACSearchModule_(self)) withNSString:
#line 39
  @"actor/search"];
}


#line 42
- (id<ARListEngine>)getSearchList {
  return searchList_;
}

- (void)onDialogsChangedWithJavaUtilList:(id<JavaUtilList>)dialogs {
  [((ARActorRef *) nil_chk(actorRef_)) sendWithId:new_ACSearchActor_OnDialogsUpdated_initWithJavaUtilList_(dialogs)];
}

- (void)onContactsChangedWithJavaLangIntegerArray:(IOSObjectArray *)contacts {
  IOSIntArray *res = [IOSIntArray newArrayWithLength:((IOSObjectArray *) nil_chk(contacts))->size_];
  for (jint i = 0; i < res->size_; i++) {
    *IOSIntArray_GetRef(res, i) = [((JavaLangInteger *) nil_chk(IOSObjectArray_Get(contacts, i))) intValue];
  }
  [((ARActorRef *) nil_chk(actorRef_)) sendWithId:new_ACSearchActor_OnContactsUpdated_initWithIntArray_(res)];
}

- (void)resetModule {
  [((ARActorRef *) nil_chk(actorRef_)) sendWithId:new_ACSearchActor_Clear_init()];
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithACModules:", "SearchModule", NULL, 0x1, NULL, NULL },
    { "run", NULL, "V", 0x1, NULL, NULL },
    { "getSearchList", NULL, "Lim.actor.runtime.storage.ListEngine;", 0x1, NULL, NULL },
    { "onDialogsChangedWithJavaUtilList:", "onDialogsChanged", "V", 0x1, NULL, NULL },
    { "onContactsChangedWithJavaLangIntegerArray:", "onContactsChanged", "V", 0x1, NULL, NULL },
    { "resetModule", NULL, "V", 0x1, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "searchList_", NULL, 0x2, "Lim.actor.runtime.storage.ListEngine;", NULL, "Lim/actor/runtime/storage/ListEngine<Lim/actor/core/entity/SearchEntity;>;", .constantValue.asLong = 0 },
    { "actorRef_", NULL, 0x2, "Lim.actor.runtime.actors.ActorRef;", NULL, NULL, .constantValue.asLong = 0 },
  };
  static const J2ObjcClassInfo _ACSearchModule = { 2, "SearchModule", "im.actor.core.modules.internal", NULL, 0x1, 6, methods, 2, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_ACSearchModule;
}

@end


#line 27
void ACSearchModule_initWithACModules_(ACSearchModule *self, ACModules *modules) {
  (void) ACAbsModule_initWithACModuleContext_(self, modules);
  
#line 30
  self->searchList_ = ARStorage_createListWithNSString_withARBserCreator_(ACAbsModule_STORAGE_SEARCH_, JreLoadStatic(ACSearchEntity, CREATOR_));
}


#line 27
ACSearchModule *new_ACSearchModule_initWithACModules_(ACModules *modules) {
  ACSearchModule *self = [ACSearchModule alloc];
  ACSearchModule_initWithACModules_(self, modules);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ACSearchModule)

#line 0 "/Users/ex3ndr/Develop/actor-proprietary/actor-sdk/sdk-core/core/core-shared/src/main/java//im/actor/core/modules/internal/SearchModule.java"

@implementation ACSearchModule_$1


#line 36
- (ACSearchActor *)create {
  return new_ACSearchActor_initWithACModuleContext_([this$0_ context]);
}

- (instancetype)initWithACSearchModule:(ACSearchModule *)outer$ {
  ACSearchModule_$1_initWithACSearchModule_(self, outer$);
  return self;
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "create", NULL, "Lim.actor.core.modules.internal.search.SearchActor;", 0x1, NULL, NULL },
    { "initWithACSearchModule:", "", NULL, 0x0, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "this$0_", NULL, 0x1012, "Lim.actor.core.modules.internal.SearchModule;", NULL, NULL, .constantValue.asLong = 0 },
  };
  static const J2ObjCEnclosingMethodInfo enclosing_method = { "ACSearchModule", "run" };
  static const J2ObjcClassInfo _ACSearchModule_$1 = { 2, "", "im.actor.core.modules.internal", "SearchModule", 0x8008, 2, methods, 1, fields, 0, NULL, 0, NULL, &enclosing_method, "Ljava/lang/Object;Lim/actor/runtime/actors/ActorCreator<Lim/actor/core/modules/internal/search/SearchActor;>;" };
  return &_ACSearchModule_$1;
}

@end

void ACSearchModule_$1_initWithACSearchModule_(ACSearchModule_$1 *self, ACSearchModule *outer$) {
  self->this$0_ = outer$;
  (void) NSObject_init(self);
}

ACSearchModule_$1 *new_ACSearchModule_$1_initWithACSearchModule_(ACSearchModule *outer$) {
  ACSearchModule_$1 *self = [ACSearchModule_$1 alloc];
  ACSearchModule_$1_initWithACSearchModule_(self, outer$);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ACSearchModule_$1)

#pragma clang diagnostic pop
