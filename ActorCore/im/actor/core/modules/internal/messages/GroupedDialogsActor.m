//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/ex3ndr/Develop/actor-proprietary/actor-sdk/sdk-core/core/core-shared/src/main/java//im/actor/core/modules/internal/messages/GroupedDialogsActor.java
//

#include <j2objc/IOSPrimitiveArray.h>
#include <j2objc/J2ObjC_source.h>
#include "im/actor/core/api/ApiDialogGroup.h"
#include "im/actor/core/api/ApiDialogShort.h"
#include "im/actor/core/api/ApiPeer.h"
#include "im/actor/core/api/rpc/RequestLoadGroupedDialogs.h"
#include "im/actor/core/api/rpc/ResponseLoadGroupedDialogs.h"
#include "im/actor/core/entity/Avatar.h"
#include "im/actor/core/entity/DialogSpec.h"
#include "im/actor/core/entity/Group.h"
#include "im/actor/core/entity/Peer.h"
#include "im/actor/core/entity/PeerType.h"
#include "im/actor/core/entity/User.h"
#include "im/actor/core/modules/ModuleContext.h"
#include "im/actor/core/modules/Updates.h"
#include "im/actor/core/modules/internal/MessagesModule.h"
#include "im/actor/core/modules/internal/messages/GroupedDialogsActor.h"
#include "im/actor/core/modules/internal/messages/entity/EntityConverter.h"
#include "im/actor/core/modules/internal/messages/entity/GroupedItem.h"
#include "im/actor/core/modules/internal/messages/entity/GroupedStorage.h"
#include "im/actor/core/modules/utils/ModuleActor.h"
#include "im/actor/core/network/RpcCallback.h"
#include "im/actor/core/network/RpcException.h"
#include "im/actor/core/viewmodel/DialogGroup.h"
#include "im/actor/core/viewmodel/DialogGroupsVM.h"
#include "im/actor/core/viewmodel/DialogSmall.h"
#include "im/actor/core/viewmodel/generics/ArrayListDialogSmall.h"
#include "im/actor/runtime/actors/ActorRef.h"
#include "im/actor/runtime/mvvm/MVVMCollection.h"
#include "im/actor/runtime/mvvm/ValueModel.h"
#include "im/actor/runtime/storage/KeyValueEngine.h"
#include "im/actor/runtime/storage/PreferencesStorage.h"
#include <j2objc/java/io/IOException.h>
#include <j2objc/java/lang/Runnable.h>
#include <j2objc/java/util/ArrayList.h>
#include <j2objc/java/util/List.h>

#pragma clang diagnostic push
#pragma GCC diagnostic ignored "-Wdeprecated-declarations"

@interface ACGroupedDialogsActor () {
 @public
  jboolean isLoaded_;
  ACGroupedStorage *storage_;
  ARMVVMCollection *specs_;
}

- (void)onCounterChangedWithACPeer:(ACPeer *)peer
                           withInt:(jint)counter;

- (void)onPeerInfoChangedWithACPeer:(ACPeer *)peer;

- (void)onGroupedChangedWithJavaUtilList:(id<JavaUtilList>)groupedItems;

- (void)notifyVMWithACPeer:(ACPeer *)peer;

- (void)notifyVM;

- (void)applyGroupsWithJavaUtilList:(id<JavaUtilList>)dialogGroups;

@end

J2OBJC_FIELD_SETTER(ACGroupedDialogsActor, storage_, ACGroupedStorage *)
J2OBJC_FIELD_SETTER(ACGroupedDialogsActor, specs_, ARMVVMCollection *)

static NSString *ACGroupedDialogsActor_PREFERENCE_GROUPED_ = @"dialogs.grouped";
J2OBJC_STATIC_FIELD_GETTER(ACGroupedDialogsActor, PREFERENCE_GROUPED_, NSString *)

static NSString *ACGroupedDialogsActor_PREFERENCE_GROUPED_LOADED_ = @"dialogs.grouped.loaded";
J2OBJC_STATIC_FIELD_GETTER(ACGroupedDialogsActor, PREFERENCE_GROUPED_LOADED_, NSString *)

__attribute__((unused)) static void ACGroupedDialogsActor_onCounterChangedWithACPeer_withInt_(ACGroupedDialogsActor *self, ACPeer *peer, jint counter);

__attribute__((unused)) static void ACGroupedDialogsActor_onPeerInfoChangedWithACPeer_(ACGroupedDialogsActor *self, ACPeer *peer);

__attribute__((unused)) static void ACGroupedDialogsActor_onGroupedChangedWithJavaUtilList_(ACGroupedDialogsActor *self, id<JavaUtilList> groupedItems);

__attribute__((unused)) static void ACGroupedDialogsActor_notifyVMWithACPeer_(ACGroupedDialogsActor *self, ACPeer *peer);

__attribute__((unused)) static void ACGroupedDialogsActor_notifyVM(ACGroupedDialogsActor *self);

__attribute__((unused)) static void ACGroupedDialogsActor_applyGroupsWithJavaUtilList_(ACGroupedDialogsActor *self, id<JavaUtilList> dialogGroups);

@interface ACGroupedDialogsActor_GroupedDialogsChanged () {
 @public
  id<JavaUtilList> items_;
}

@end

J2OBJC_FIELD_SETTER(ACGroupedDialogsActor_GroupedDialogsChanged, items_, id<JavaUtilList>)

@interface ACGroupedDialogsActor_PeerInformationChanged () {
 @public
  ACPeer *peer_;
}

@end

J2OBJC_FIELD_SETTER(ACGroupedDialogsActor_PeerInformationChanged, peer_, ACPeer *)

@interface ACGroupedDialogsActor_CounterChanged () {
 @public
  ACPeer *peer_;
  jint counter_;
}

@end

J2OBJC_FIELD_SETTER(ACGroupedDialogsActor_CounterChanged, peer_, ACPeer *)

@interface ACGroupedDialogsActor_$1 : NSObject < ACRpcCallback > {
 @public
  ACGroupedDialogsActor *this$0_;
}

- (void)onResult:(ARResponseLoadGroupedDialogs *)response;

- (void)onError:(ACRpcException *)e;

- (instancetype)initWithACGroupedDialogsActor:(ACGroupedDialogsActor *)outer$;

@end

J2OBJC_EMPTY_STATIC_INIT(ACGroupedDialogsActor_$1)

J2OBJC_FIELD_SETTER(ACGroupedDialogsActor_$1, this$0_, ACGroupedDialogsActor *)

__attribute__((unused)) static void ACGroupedDialogsActor_$1_initWithACGroupedDialogsActor_(ACGroupedDialogsActor_$1 *self, ACGroupedDialogsActor *outer$);

__attribute__((unused)) static ACGroupedDialogsActor_$1 *new_ACGroupedDialogsActor_$1_initWithACGroupedDialogsActor_(ACGroupedDialogsActor *outer$) NS_RETURNS_RETAINED;

J2OBJC_TYPE_LITERAL_HEADER(ACGroupedDialogsActor_$1)

@interface ACGroupedDialogsActor_$1_$1 : NSObject < JavaLangRunnable > {
 @public
  ACGroupedDialogsActor_$1 *this$0_;
  ARResponseLoadGroupedDialogs *val$response_;
}

- (void)run;

- (instancetype)initWithACGroupedDialogsActor_$1:(ACGroupedDialogsActor_$1 *)outer$
                withARResponseLoadGroupedDialogs:(ARResponseLoadGroupedDialogs *)capture$0;

@end

J2OBJC_EMPTY_STATIC_INIT(ACGroupedDialogsActor_$1_$1)

J2OBJC_FIELD_SETTER(ACGroupedDialogsActor_$1_$1, this$0_, ACGroupedDialogsActor_$1 *)
J2OBJC_FIELD_SETTER(ACGroupedDialogsActor_$1_$1, val$response_, ARResponseLoadGroupedDialogs *)

__attribute__((unused)) static void ACGroupedDialogsActor_$1_$1_initWithACGroupedDialogsActor_$1_withARResponseLoadGroupedDialogs_(ACGroupedDialogsActor_$1_$1 *self, ACGroupedDialogsActor_$1 *outer$, ARResponseLoadGroupedDialogs *capture$0);

__attribute__((unused)) static ACGroupedDialogsActor_$1_$1 *new_ACGroupedDialogsActor_$1_$1_initWithACGroupedDialogsActor_$1_withARResponseLoadGroupedDialogs_(ACGroupedDialogsActor_$1 *outer$, ARResponseLoadGroupedDialogs *capture$0) NS_RETURNS_RETAINED;

J2OBJC_TYPE_LITERAL_HEADER(ACGroupedDialogsActor_$1_$1)

#line 0 "/Users/ex3ndr/Develop/actor-proprietary/actor-sdk/sdk-core/core/core-shared/src/main/java//im/actor/core/modules/internal/messages/GroupedDialogsActor.java"


#line 31
@implementation ACGroupedDialogsActor


#line 40
- (instancetype)initWithACModuleContext:(id<ACModuleContext>)context {
  ACGroupedDialogsActor_initWithACModuleContext_(self, context);
  return self;
}

- (void)preStart {
  [super preStart];
  specs_ = [((ACMessagesModule *) nil_chk([((id<ACModuleContext>) nil_chk([self context])) getMessagesModule])) getDialogDescKeyValue];
  storage_ = new_ACGroupedStorage_init();
  
#line 50
  IOSByteArray *data = [((id<ARPreferencesStorage>) nil_chk([self preferences])) getBytesWithKey:ACGroupedDialogsActor_PREFERENCE_GROUPED_];
  if (data != nil) {
    @try {
      storage_ = new_ACGroupedStorage_initWithByteArray_(data);
    }
    @catch (
#line 54
    JavaIoIOException *e) {
      [((JavaIoIOException *) nil_chk(e)) printStackTrace];
    }
  }
  
#line 59
  isLoaded_ = [((id<ARPreferencesStorage>) nil_chk([self preferences])) getBoolWithKey:ACGroupedDialogsActor_PREFERENCE_GROUPED_LOADED_ withDefault:false];
  
#line 61
  if (!isLoaded_) {
    [self requestWithACRequest:new_ARRequestLoadGroupedDialogs_init() withACRpcCallback:new_ACGroupedDialogsActor_$1_initWithACGroupedDialogsActor_(self)];
  }
  else {
    
#line 83
    ACGroupedDialogsActor_notifyVM(self);
  }
}


#line 87
- (void)onCounterChangedWithACPeer:(ACPeer *)peer
                           withInt:(jint)counter {
  ACGroupedDialogsActor_onCounterChangedWithACPeer_withInt_(self, peer, counter);
}


#line 93
- (void)onPeerInfoChangedWithACPeer:(ACPeer *)peer {
  ACGroupedDialogsActor_onPeerInfoChangedWithACPeer_(self, peer);
}

- (void)onGroupedChangedWithJavaUtilList:(id<JavaUtilList>)groupedItems {
  ACGroupedDialogsActor_onGroupedChangedWithJavaUtilList_(self, groupedItems);
}


#line 103
- (void)notifyVMWithACPeer:(ACPeer *)peer {
  ACGroupedDialogsActor_notifyVMWithACPeer_(self, peer);
}


#line 119
- (void)notifyVM {
  ACGroupedDialogsActor_notifyVM(self);
}


#line 148
- (void)applyGroupsWithJavaUtilList:(id<JavaUtilList>)dialogGroups {
  ACGroupedDialogsActor_applyGroupsWithJavaUtilList_(self, dialogGroups);
}


#line 182
- (void)onReceiveWithId:(id)message {
  if ([message isKindOfClass:[ACGroupedDialogsActor_PeerInformationChanged class]]) {
    ACGroupedDialogsActor_PeerInformationChanged *informationChanged = (ACGroupedDialogsActor_PeerInformationChanged *) check_class_cast(message, [ACGroupedDialogsActor_PeerInformationChanged class]);
    ACGroupedDialogsActor_onPeerInfoChangedWithACPeer_(self, [((ACGroupedDialogsActor_PeerInformationChanged *) nil_chk(informationChanged)) getPeer]);
  }
  else
#line 186
  if ([message isKindOfClass:[ACGroupedDialogsActor_CounterChanged class]]) {
    ACGroupedDialogsActor_CounterChanged *counterChanged = (ACGroupedDialogsActor_CounterChanged *) check_class_cast(message, [ACGroupedDialogsActor_CounterChanged class]);
    ACGroupedDialogsActor_onCounterChangedWithACPeer_withInt_(self, [((ACGroupedDialogsActor_CounterChanged *) nil_chk(counterChanged)) getPeer], [counterChanged getCounter]);
  }
  else
#line 189
  if ([message isKindOfClass:[ACGroupedDialogsActor_GroupedDialogsChanged class]]) {
    ACGroupedDialogsActor_GroupedDialogsChanged *g = (ACGroupedDialogsActor_GroupedDialogsChanged *) check_class_cast(message, [ACGroupedDialogsActor_GroupedDialogsChanged class]);
    ACGroupedDialogsActor_onGroupedChangedWithJavaUtilList_(self, [((ACGroupedDialogsActor_GroupedDialogsChanged *) nil_chk(g)) getItems]);
  }
  else {
    
#line 193
    [super onReceiveWithId:message];
  }
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithACModuleContext:", "GroupedDialogsActor", NULL, 0x1, NULL, NULL },
    { "preStart", NULL, "V", 0x1, NULL, NULL },
    { "onCounterChangedWithACPeer:withInt:", "onCounterChanged", "V", 0x2, NULL, NULL },
    { "onPeerInfoChangedWithACPeer:", "onPeerInfoChanged", "V", 0x2, NULL, NULL },
    { "onGroupedChangedWithJavaUtilList:", "onGroupedChanged", "V", 0x2, NULL, NULL },
    { "notifyVMWithACPeer:", "notifyVM", "V", 0x2, NULL, NULL },
    { "notifyVM", NULL, "V", 0x2, NULL, NULL },
    { "applyGroupsWithJavaUtilList:", "applyGroups", "V", 0x2, NULL, NULL },
    { "onReceiveWithId:", "onReceive", "V", 0x1, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "PREFERENCE_GROUPED_", NULL, 0x1a, "Ljava.lang.String;", &ACGroupedDialogsActor_PREFERENCE_GROUPED_, NULL, .constantValue.asLong = 0 },
    { "PREFERENCE_GROUPED_LOADED_", NULL, 0x1a, "Ljava.lang.String;", &ACGroupedDialogsActor_PREFERENCE_GROUPED_LOADED_, NULL, .constantValue.asLong = 0 },
    { "isLoaded_", NULL, 0x2, "Z", NULL, NULL, .constantValue.asLong = 0 },
    { "storage_", NULL, 0x2, "Lim.actor.core.modules.internal.messages.entity.GroupedStorage;", NULL, NULL, .constantValue.asLong = 0 },
    { "specs_", NULL, 0x2, "Lim.actor.runtime.mvvm.MVVMCollection;", NULL, "Lim/actor/runtime/mvvm/MVVMCollection<Lim/actor/core/entity/DialogSpec;Lim/actor/core/viewmodel/DialogSpecVM;>;", .constantValue.asLong = 0 },
  };
  static const char *inner_classes[] = {"Lim.actor.core.modules.internal.messages.GroupedDialogsActor$GroupedDialogsChanged;", "Lim.actor.core.modules.internal.messages.GroupedDialogsActor$PeerInformationChanged;", "Lim.actor.core.modules.internal.messages.GroupedDialogsActor$CounterChanged;"};
  static const J2ObjcClassInfo _ACGroupedDialogsActor = { 2, "GroupedDialogsActor", "im.actor.core.modules.internal.messages", NULL, 0x1, 9, methods, 5, fields, 0, NULL, 3, inner_classes, NULL, NULL };
  return &_ACGroupedDialogsActor;
}

@end


#line 40
void ACGroupedDialogsActor_initWithACModuleContext_(ACGroupedDialogsActor *self, id<ACModuleContext> context) {
  (void) ACModuleActor_initWithACModuleContext_(self, context);
  self->isLoaded_ =
#line 36
  false;
}


#line 40
ACGroupedDialogsActor *new_ACGroupedDialogsActor_initWithACModuleContext_(id<ACModuleContext> context) {
  ACGroupedDialogsActor *self = [ACGroupedDialogsActor alloc];
  ACGroupedDialogsActor_initWithACModuleContext_(self, context);
  return self;
}


#line 87
void ACGroupedDialogsActor_onCounterChangedWithACPeer_withInt_(ACGroupedDialogsActor *self, ACPeer *peer, jint counter) {
  ACDialogSpec *spec = new_ACDialogSpec_initWithACPeer_withBoolean_withInt_(peer, false, counter);
  [((id<ARKeyValueEngine>) nil_chk([((ARMVVMCollection *) nil_chk(self->specs_)) getEngine])) addOrUpdateItem:spec];
  ACGroupedDialogsActor_notifyVMWithACPeer_(self, peer);
}

void ACGroupedDialogsActor_onPeerInfoChangedWithACPeer_(ACGroupedDialogsActor *self, ACPeer *peer) {
  ACGroupedDialogsActor_notifyVMWithACPeer_(self, peer);
}

void ACGroupedDialogsActor_onGroupedChangedWithJavaUtilList_(ACGroupedDialogsActor *self, id<JavaUtilList> groupedItems) {
  ACGroupedDialogsActor_applyGroupsWithJavaUtilList_(self, groupedItems);
}


#line 103
void ACGroupedDialogsActor_notifyVMWithACPeer_(ACGroupedDialogsActor *self, ACPeer *peer) {
  jboolean found = false;
  for (ACGroupedItem * __strong i in nil_chk([((ACGroupedStorage *) nil_chk(self->storage_)) getGroups])) {
    for (ACPeer * __strong p in nil_chk([((ACGroupedItem *) nil_chk(i)) getPeers])) {
      if ([((ACPeer *) nil_chk(p)) isEqual:peer]) {
        found = true;
        break;
      }
    }
  }
  
#line 114
  if (found) {
    ACGroupedDialogsActor_notifyVM(self);
  }
}


#line 119
void ACGroupedDialogsActor_notifyVM(ACGroupedDialogsActor *self) {
  
#line 121
  JavaUtilArrayList *groups = new_JavaUtilArrayList_init();
  for (ACGroupedItem * __strong i in nil_chk([((ACGroupedStorage *) nil_chk(self->storage_)) getGroups])) {
    ACArrayListDialogSmall *dialogSmalls = new_ACArrayListDialogSmall_init();
    for (ACPeer * __strong p in nil_chk([((ACGroupedItem *) nil_chk(i)) getPeers])) {
      ACDialogSpec *spec = [((id<ARKeyValueEngine>) nil_chk([((ARMVVMCollection *) nil_chk(self->specs_)) getEngine])) getValueWithKey:[((ACPeer *) nil_chk(p)) getUnuqueId]];
      NSString *title;
      ACAvatar *avatar;
      if ([p getPeerType] == JreLoadStatic(ACPeerTypeEnum, GROUP)) {
        ACGroup *group = [self getGroupWithInt:[p getPeerId]];
        title = [((ACGroup *) nil_chk(group)) getTitle];
        avatar = [group getAvatar];
      }
      else
#line 132
      if ([p getPeerType] == JreLoadStatic(ACPeerTypeEnum, PRIVATE)) {
        ACUser *user = [self getUserWithInt:[p getPeerId]];
        title = [((ACUser *) nil_chk(user)) getName];
        avatar = [user getAvatar];
      }
      else {
        
#line 137
        continue;
      }
      
#line 140
      [dialogSmalls addWithId:new_ACDialogSmall_initWithACPeer_withNSString_withACAvatar_withInt_(p, title, avatar, [((ACDialogSpec *) nil_chk(spec)) getCounter])];
    }
    [groups addWithId:new_ACDialogGroup_initWithNSString_withNSString_withACArrayListDialogSmall_([i getTitle], [i getKey], dialogSmalls)];
  }
  [((ARValueModel *) nil_chk([((ACDialogGroupsVM *) nil_chk([((ACMessagesModule *) nil_chk([((id<ACModuleContext>) nil_chk([self context])) getMessagesModule])) getDialogGroupsVM])) getGroupsValueModel])) changeWithValue:groups];
}


#line 148
void ACGroupedDialogsActor_applyGroupsWithJavaUtilList_(ACGroupedDialogsActor *self, id<JavaUtilList> dialogGroups) {
  
#line 152
  JavaUtilArrayList *updatedSpecs = new_JavaUtilArrayList_init();
  for (ARApiDialogGroup * __strong g in nil_chk(dialogGroups)) {
    for (ARApiDialogShort * __strong s in nil_chk([((ARApiDialogGroup *) nil_chk(g)) getDialogs])) {
      ACPeer *peer = ACEntityConverter_convertWithARApiPeer_([((ARApiDialogShort *) nil_chk(s)) getPeer]);
      if ([((id<ARKeyValueEngine>) nil_chk([((ARMVVMCollection *) nil_chk(self->specs_)) getEngine])) getValueWithKey:[((ACPeer *) nil_chk(peer)) getUnuqueId]] == nil) {
        [updatedSpecs addWithId:new_ACDialogSpec_initWithACPeer_withBoolean_withInt_(peer, false, [s getCounter])];
      }
    }
  }
  [((id<ARKeyValueEngine>) nil_chk([((ARMVVMCollection *) nil_chk(self->specs_)) getEngine])) addOrUpdateItems:updatedSpecs];
  
#line 165
  [((JavaUtilArrayList *) nil_chk([((ACGroupedStorage *) nil_chk(self->storage_)) getGroups])) clear];
  for (ARApiDialogGroup * __strong g in dialogGroups) {
    JavaUtilArrayList *peers = new_JavaUtilArrayList_init();
    for (ARApiDialogShort * __strong s in nil_chk([((ARApiDialogGroup *) nil_chk(g)) getDialogs])) {
      ACPeer *peer = ACEntityConverter_convertWithARApiPeer_([((ARApiDialogShort *) nil_chk(s)) getPeer]);
      [peers addWithId:peer];
    }
    [((JavaUtilArrayList *) nil_chk([self->storage_ getGroups])) addWithId:new_ACGroupedItem_initWithNSString_withNSString_withJavaUtilArrayList_([g getKey], [g getTitle], peers)];
  }
  [((id<ARPreferencesStorage>) nil_chk([self preferences])) putBytesWithKey:ACGroupedDialogsActor_PREFERENCE_GROUPED_ withValue:[self->storage_ toByteArray]];
  
#line 178
  ACGroupedDialogsActor_notifyVM(self);
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ACGroupedDialogsActor)

#line 0 "/Users/ex3ndr/Develop/actor-proprietary/actor-sdk/sdk-core/core/core-shared/src/main/java//im/actor/core/modules/internal/messages/GroupedDialogsActor.java"


#line 197
@implementation ACGroupedDialogsActor_GroupedDialogsChanged


#line 201
- (instancetype)initWithJavaUtilList:(id<JavaUtilList>)items {
  ACGroupedDialogsActor_GroupedDialogsChanged_initWithJavaUtilList_(self, items);
  return self;
}


#line 205
- (id<JavaUtilList>)getItems {
  return items_;
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithJavaUtilList:", "GroupedDialogsChanged", NULL, 0x1, NULL, NULL },
    { "getItems", NULL, "Ljava.util.List;", 0x1, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "items_", NULL, 0x2, "Ljava.util.List;", NULL, "Ljava/util/List<Lim/actor/core/api/ApiDialogGroup;>;", .constantValue.asLong = 0 },
  };
  static const J2ObjcClassInfo _ACGroupedDialogsActor_GroupedDialogsChanged = { 2, "GroupedDialogsChanged", "im.actor.core.modules.internal.messages", "GroupedDialogsActor", 0x9, 2, methods, 1, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_ACGroupedDialogsActor_GroupedDialogsChanged;
}

@end


#line 201
void ACGroupedDialogsActor_GroupedDialogsChanged_initWithJavaUtilList_(ACGroupedDialogsActor_GroupedDialogsChanged *self, id<JavaUtilList> items) {
  (void) NSObject_init(self);
  
#line 202
  self->items_ = items;
}


#line 201
ACGroupedDialogsActor_GroupedDialogsChanged *new_ACGroupedDialogsActor_GroupedDialogsChanged_initWithJavaUtilList_(id<JavaUtilList> items) {
  ACGroupedDialogsActor_GroupedDialogsChanged *self = [ACGroupedDialogsActor_GroupedDialogsChanged alloc];
  ACGroupedDialogsActor_GroupedDialogsChanged_initWithJavaUtilList_(self, items);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ACGroupedDialogsActor_GroupedDialogsChanged)

#line 0 "/Users/ex3ndr/Develop/actor-proprietary/actor-sdk/sdk-core/core/core-shared/src/main/java//im/actor/core/modules/internal/messages/GroupedDialogsActor.java"


#line 210
@implementation ACGroupedDialogsActor_PeerInformationChanged


#line 214
- (instancetype)initWithACPeer:(ACPeer *)peer {
  ACGroupedDialogsActor_PeerInformationChanged_initWithACPeer_(self, peer);
  return self;
}


#line 218
- (ACPeer *)getPeer {
  return peer_;
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithACPeer:", "PeerInformationChanged", NULL, 0x1, NULL, NULL },
    { "getPeer", NULL, "Lim.actor.core.entity.Peer;", 0x1, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "peer_", NULL, 0x2, "Lim.actor.core.entity.Peer;", NULL, NULL, .constantValue.asLong = 0 },
  };
  static const J2ObjcClassInfo _ACGroupedDialogsActor_PeerInformationChanged = { 2, "PeerInformationChanged", "im.actor.core.modules.internal.messages", "GroupedDialogsActor", 0x9, 2, methods, 1, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_ACGroupedDialogsActor_PeerInformationChanged;
}

@end


#line 214
void ACGroupedDialogsActor_PeerInformationChanged_initWithACPeer_(ACGroupedDialogsActor_PeerInformationChanged *self, ACPeer *peer) {
  (void) NSObject_init(self);
  
#line 215
  self->peer_ = peer;
}


#line 214
ACGroupedDialogsActor_PeerInformationChanged *new_ACGroupedDialogsActor_PeerInformationChanged_initWithACPeer_(ACPeer *peer) {
  ACGroupedDialogsActor_PeerInformationChanged *self = [ACGroupedDialogsActor_PeerInformationChanged alloc];
  ACGroupedDialogsActor_PeerInformationChanged_initWithACPeer_(self, peer);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ACGroupedDialogsActor_PeerInformationChanged)

#line 0 "/Users/ex3ndr/Develop/actor-proprietary/actor-sdk/sdk-core/core/core-shared/src/main/java//im/actor/core/modules/internal/messages/GroupedDialogsActor.java"


#line 224
@implementation ACGroupedDialogsActor_CounterChanged


#line 228
- (instancetype)initWithACPeer:(ACPeer *)peer
                       withInt:(jint)counter {
  ACGroupedDialogsActor_CounterChanged_initWithACPeer_withInt_(self, peer, counter);
  return self;
}


#line 233
- (ACPeer *)getPeer {
  return peer_;
}

- (jint)getCounter {
  return counter_;
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithACPeer:withInt:", "CounterChanged", NULL, 0x1, NULL, NULL },
    { "getPeer", NULL, "Lim.actor.core.entity.Peer;", 0x1, NULL, NULL },
    { "getCounter", NULL, "I", 0x1, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "peer_", NULL, 0x2, "Lim.actor.core.entity.Peer;", NULL, NULL, .constantValue.asLong = 0 },
    { "counter_", NULL, 0x2, "I", NULL, NULL, .constantValue.asLong = 0 },
  };
  static const J2ObjcClassInfo _ACGroupedDialogsActor_CounterChanged = { 2, "CounterChanged", "im.actor.core.modules.internal.messages", "GroupedDialogsActor", 0x9, 3, methods, 2, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_ACGroupedDialogsActor_CounterChanged;
}

@end


#line 228
void ACGroupedDialogsActor_CounterChanged_initWithACPeer_withInt_(ACGroupedDialogsActor_CounterChanged *self, ACPeer *peer, jint counter) {
  (void) NSObject_init(self);
  
#line 229
  self->peer_ = peer;
  self->counter_ = counter;
}


#line 228
ACGroupedDialogsActor_CounterChanged *new_ACGroupedDialogsActor_CounterChanged_initWithACPeer_withInt_(ACPeer *peer, jint counter) {
  ACGroupedDialogsActor_CounterChanged *self = [ACGroupedDialogsActor_CounterChanged alloc];
  ACGroupedDialogsActor_CounterChanged_initWithACPeer_withInt_(self, peer, counter);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ACGroupedDialogsActor_CounterChanged)

#line 0 "/Users/ex3ndr/Develop/actor-proprietary/actor-sdk/sdk-core/core/core-shared/src/main/java//im/actor/core/modules/internal/messages/GroupedDialogsActor.java"

@implementation ACGroupedDialogsActor_$1


#line 64
- (void)onResult:(ARResponseLoadGroupedDialogs *)response {
  [((ACUpdates *) nil_chk([this$0_ updates])) executeRelatedResponseWithJavaUtilList:[((ARResponseLoadGroupedDialogs *) nil_chk(response)) getUsers] withJavaUtilList:[response getGroups] withARActorRef:
#line 66
  [this$0_ self__] withJavaLangRunnable:new_ACGroupedDialogsActor_$1_$1_initWithACGroupedDialogsActor_$1_withARResponseLoadGroupedDialogs_(self, response)];
}


#line 78
- (void)onError:(ACRpcException *)e {
}

- (instancetype)initWithACGroupedDialogsActor:(ACGroupedDialogsActor *)outer$ {
  ACGroupedDialogsActor_$1_initWithACGroupedDialogsActor_(self, outer$);
  return self;
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "onResult:", "onResult", "V", 0x1, NULL, NULL },
    { "onError:", "onError", "V", 0x1, NULL, NULL },
    { "initWithACGroupedDialogsActor:", "", NULL, 0x0, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "this$0_", NULL, 0x1012, "Lim.actor.core.modules.internal.messages.GroupedDialogsActor;", NULL, NULL, .constantValue.asLong = 0 },
  };
  static const J2ObjCEnclosingMethodInfo enclosing_method = { "ACGroupedDialogsActor", "preStart" };
  static const J2ObjcClassInfo _ACGroupedDialogsActor_$1 = { 2, "", "im.actor.core.modules.internal.messages", "GroupedDialogsActor", 0x8008, 3, methods, 1, fields, 0, NULL, 0, NULL, &enclosing_method, "Ljava/lang/Object;Lim/actor/core/network/RpcCallback<Lim/actor/core/api/rpc/ResponseLoadGroupedDialogs;>;" };
  return &_ACGroupedDialogsActor_$1;
}

@end

void ACGroupedDialogsActor_$1_initWithACGroupedDialogsActor_(ACGroupedDialogsActor_$1 *self, ACGroupedDialogsActor *outer$) {
  self->this$0_ = outer$;
  (void) NSObject_init(self);
}

ACGroupedDialogsActor_$1 *new_ACGroupedDialogsActor_$1_initWithACGroupedDialogsActor_(ACGroupedDialogsActor *outer$) {
  ACGroupedDialogsActor_$1 *self = [ACGroupedDialogsActor_$1 alloc];
  ACGroupedDialogsActor_$1_initWithACGroupedDialogsActor_(self, outer$);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ACGroupedDialogsActor_$1)

#line 0 "/Users/ex3ndr/Develop/actor-proprietary/actor-sdk/sdk-core/core/core-shared/src/main/java//im/actor/core/modules/internal/messages/GroupedDialogsActor.java"

@implementation ACGroupedDialogsActor_$1_$1


#line 69
- (void)run {
  ACGroupedDialogsActor_applyGroupsWithJavaUtilList_(this$0_->this$0_, [((ARResponseLoadGroupedDialogs *) nil_chk(val$response_)) getDialogs]);
  this$0_->this$0_->isLoaded_ = true;
  [((id<ARPreferencesStorage>) nil_chk([this$0_->this$0_ preferences])) putBoolWithKey:ACGroupedDialogsActor_PREFERENCE_GROUPED_LOADED_ withValue:true];
}

- (instancetype)initWithACGroupedDialogsActor_$1:(ACGroupedDialogsActor_$1 *)outer$
                withARResponseLoadGroupedDialogs:(ARResponseLoadGroupedDialogs *)capture$0 {
  ACGroupedDialogsActor_$1_$1_initWithACGroupedDialogsActor_$1_withARResponseLoadGroupedDialogs_(self, outer$, capture$0);
  return self;
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "run", NULL, "V", 0x1, NULL, NULL },
    { "initWithACGroupedDialogsActor_$1:withARResponseLoadGroupedDialogs:", "", NULL, 0x0, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "this$0_", NULL, 0x1012, "Lim.actor.core.modules.internal.messages.GroupedDialogsActor$1;", NULL, NULL, .constantValue.asLong = 0 },
    { "val$response_", NULL, 0x1012, "Lim.actor.core.api.rpc.ResponseLoadGroupedDialogs;", NULL, NULL, .constantValue.asLong = 0 },
  };
  static const J2ObjCEnclosingMethodInfo enclosing_method = { "ACGroupedDialogsActor_$1", "onResult:" };
  static const J2ObjcClassInfo _ACGroupedDialogsActor_$1_$1 = { 2, "", "im.actor.core.modules.internal.messages", "GroupedDialogsActor$", 0x8008, 2, methods, 2, fields, 0, NULL, 0, NULL, &enclosing_method, NULL };
  return &_ACGroupedDialogsActor_$1_$1;
}

@end

void ACGroupedDialogsActor_$1_$1_initWithACGroupedDialogsActor_$1_withARResponseLoadGroupedDialogs_(ACGroupedDialogsActor_$1_$1 *self, ACGroupedDialogsActor_$1 *outer$, ARResponseLoadGroupedDialogs *capture$0) {
  self->this$0_ = outer$;
  self->val$response_ = capture$0;
  (void) NSObject_init(self);
}

ACGroupedDialogsActor_$1_$1 *new_ACGroupedDialogsActor_$1_$1_initWithACGroupedDialogsActor_$1_withARResponseLoadGroupedDialogs_(ACGroupedDialogsActor_$1 *outer$, ARResponseLoadGroupedDialogs *capture$0) {
  ACGroupedDialogsActor_$1_$1 *self = [ACGroupedDialogsActor_$1_$1 alloc];
  ACGroupedDialogsActor_$1_$1_initWithACGroupedDialogsActor_$1_withARResponseLoadGroupedDialogs_(self, outer$, capture$0);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ACGroupedDialogsActor_$1_$1)

#pragma clang diagnostic pop
