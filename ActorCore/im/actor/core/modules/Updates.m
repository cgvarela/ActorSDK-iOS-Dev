//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/ex3ndr/Develop/actor-proprietary/actor-sdk/sdk-core/core/core-shared/src/main/java//im/actor/core/modules/Updates.java
//

#include "IOSClass.h"
#include "IOSPrimitiveArray.h"
#include "J2ObjC_source.h"
#include "im/actor/core/api/base/FatSeqUpdate.h"
#include "im/actor/core/api/base/SeqUpdate.h"
#include "im/actor/core/modules/AbsModule.h"
#include "im/actor/core/modules/ModuleContext.h"
#include "im/actor/core/modules/Updates.h"
#include "im/actor/core/modules/events/NewSessionCreated.h"
#include "im/actor/core/modules/updates/SequenceActor.h"
#include "im/actor/core/modules/updates/internal/ExecuteAfter.h"
#include "im/actor/core/modules/updates/internal/RelatedResponse.h"
#include "im/actor/core/network/parser/Update.h"
#include "im/actor/runtime/actors/ActorCreator.h"
#include "im/actor/runtime/actors/ActorRef.h"
#include "im/actor/runtime/actors/ActorSystem.h"
#include "im/actor/runtime/actors/Props.h"
#include "im/actor/runtime/eventbus/Event.h"
#include "im/actor/runtime/eventbus/EventBus.h"
#include "java/lang/Long.h"
#include "java/lang/Runnable.h"
#include "java/util/List.h"

#pragma clang diagnostic push
#pragma GCC diagnostic ignored "-Wdeprecated-declarations"

@interface ACUpdates () {
 @public
  ARActorRef *updateActor_;
}

@end

J2OBJC_FIELD_SETTER(ACUpdates, updateActor_, ARActorRef *)

@interface ACUpdates_$1 : NSObject < ARActorCreator > {
 @public
  ACUpdates *this$0_;
}

- (ACSequenceActor *)create;

- (instancetype)initWithACUpdates:(ACUpdates *)outer$;

@end

J2OBJC_EMPTY_STATIC_INIT(ACUpdates_$1)

J2OBJC_FIELD_SETTER(ACUpdates_$1, this$0_, ACUpdates *)

__attribute__((unused)) static void ACUpdates_$1_initWithACUpdates_(ACUpdates_$1 *self, ACUpdates *outer$);

__attribute__((unused)) static ACUpdates_$1 *new_ACUpdates_$1_initWithACUpdates_(ACUpdates *outer$) NS_RETURNS_RETAINED;

J2OBJC_TYPE_LITERAL_HEADER(ACUpdates_$1)

@interface ACUpdates_$2 : NSObject < JavaLangRunnable > {
 @public
  ARActorRef *val$ref_;
  id<JavaLangRunnable> val$runnable_;
}

- (void)run;

- (instancetype)initWithARActorRef:(ARActorRef *)capture$0
              withJavaLangRunnable:(id<JavaLangRunnable>)capture$1;

@end

J2OBJC_EMPTY_STATIC_INIT(ACUpdates_$2)

J2OBJC_FIELD_SETTER(ACUpdates_$2, val$ref_, ARActorRef *)
J2OBJC_FIELD_SETTER(ACUpdates_$2, val$runnable_, id<JavaLangRunnable>)

__attribute__((unused)) static void ACUpdates_$2_initWithARActorRef_withJavaLangRunnable_(ACUpdates_$2 *self, ARActorRef *capture$0, id<JavaLangRunnable> capture$1);

__attribute__((unused)) static ACUpdates_$2 *new_ACUpdates_$2_initWithARActorRef_withJavaLangRunnable_(ARActorRef *capture$0, id<JavaLangRunnable> capture$1) NS_RETURNS_RETAINED;

J2OBJC_TYPE_LITERAL_HEADER(ACUpdates_$2)

#line 0 "/Users/ex3ndr/Develop/actor-proprietary/actor-sdk/sdk-core/core/core-shared/src/main/java//im/actor/core/modules/Updates.java"


#line 26
@implementation ACUpdates


#line 30
- (instancetype)initWithACModuleContext:(id<ACModuleContext>)messenger {
  ACUpdates_initWithACModuleContext_(self, messenger);
  return self;
}


#line 34
- (void)run {
  self->updateActor_ = [((ARActorSystem *) nil_chk(ARActorSystem_system())) actorOfWithARProps:[((ARProps *) nil_chk(ARProps_createWithIOSClass_withARActorCreator_(ACSequenceActor_class_(), new_ACUpdates_$1_initWithACUpdates_(self)))) changeDispatcherWithNSString:
#line 40
  @"updates"] withNSString:@"actor/updates"];
  
#line 42
  [((ImActorRuntimeEventbusEventBus *) nil_chk([((id<ACModuleContext>) nil_chk([self context])) getEvents])) subscribeWithImActorRuntimeEventbusBusSubscriber:self withNSString:ImActorCoreModulesEventsNewSessionCreated_EVENT_];
}


#line 45
- (void)onPushReceivedWithInt:(jint)seq {
  [((ARActorRef *) nil_chk(updateActor_)) sendWithId:new_ACSequenceActor_PushSeq_initWithInt_(seq)];
}

- (void)onSeqUpdateReceivedWithInt:(jint)seq
                     withByteArray:(IOSByteArray *)state
                      withACUpdate:(ACUpdate *)update {
  [((ARActorRef *) nil_chk(updateActor_)) sendWithId:new_ARSeqUpdate_initWithInt_withByteArray_withInt_withByteArray_(seq, state, [((ACUpdate *) nil_chk(update)) getHeaderKey], [update toByteArray])];
}


#line 53
- (void)onFatSeqUpdateReceivedWithInt:(jint)seq
                        withByteArray:(IOSByteArray *)state
                         withACUpdate:(ACUpdate *)update
                     withJavaUtilList:(id<JavaUtilList>)users
                     withJavaUtilList:(id<JavaUtilList>)groups {
  
#line 55
  [((ARActorRef *) nil_chk(updateActor_)) sendWithId:new_ARFatSeqUpdate_initWithInt_withByteArray_withInt_withByteArray_withJavaUtilList_withJavaUtilList_(seq, state, [((ACUpdate *) nil_chk(update)) getHeaderKey], [update toByteArray],
#line 56
  users, groups)];
}


#line 59
- (void)onUpdateReceivedWithId:(id)update {
  [((ARActorRef *) nil_chk(updateActor_)) sendWithId:update];
}

- (void)onUpdateReceivedWithId:(id)update
              withJavaLangLong:(JavaLangLong *)delay {
  [((ARActorRef *) nil_chk(updateActor_)) sendWithId:update withLong:[((JavaLangLong *) nil_chk(delay)) longLongValue]];
}


#line 67
- (void)executeAfterWithInt:(jint)seq
       withJavaLangRunnable:(id<JavaLangRunnable>)runnable {
  [((ARActorRef *) nil_chk(updateActor_)) sendWithId:new_ACExecuteAfter_initWithInt_withJavaLangRunnable_(seq, runnable)];
}


#line 71
- (void)executeRelatedResponseWithJavaUtilList:(id<JavaUtilList>)users
                              withJavaUtilList:(id<JavaUtilList>)groups
                          withJavaLangRunnable:(id<JavaLangRunnable>)runnable {
  [((ARActorRef *) nil_chk(updateActor_)) sendWithId:new_ACRelatedResponse_initWithJavaUtilList_withJavaUtilList_withJavaLangRunnable_(users, groups, runnable)];
}


#line 75
- (void)executeRelatedResponseWithJavaUtilList:(id<JavaUtilList>)users
                              withJavaUtilList:(id<JavaUtilList>)groups
                                withARActorRef:(ARActorRef *)ref
                          withJavaLangRunnable:(id<JavaLangRunnable>)runnable {
  [((ARActorRef *) nil_chk(updateActor_)) sendWithId:new_ACRelatedResponse_initWithJavaUtilList_withJavaUtilList_withJavaLangRunnable_(users, groups, new_ACUpdates_$2_initWithARActorRef_withJavaLangRunnable_(ref, runnable))];
}


#line 84
- (void)resetModule {
}


#line 89
- (void)onBusEventWithImActorRuntimeEventbusEvent:(ImActorRuntimeEventbusEvent *)event {
  if ([event isKindOfClass:[ImActorCoreModulesEventsNewSessionCreated class]]) {
    [((ARActorRef *) nil_chk(updateActor_)) sendWithId:new_ACSequenceActor_Invalidate_init()];
  }
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithACModuleContext:", "Updates", NULL, 0x1, NULL, NULL },
    { "run", NULL, "V", 0x1, NULL, NULL },
    { "onPushReceivedWithInt:", "onPushReceived", "V", 0x1, NULL, NULL },
    { "onSeqUpdateReceivedWithInt:withByteArray:withACUpdate:", "onSeqUpdateReceived", "V", 0x1, NULL, NULL },
    { "onFatSeqUpdateReceivedWithInt:withByteArray:withACUpdate:withJavaUtilList:withJavaUtilList:", "onFatSeqUpdateReceived", "V", 0x1, NULL, NULL },
    { "onUpdateReceivedWithId:", "onUpdateReceived", "V", 0x1, NULL, NULL },
    { "onUpdateReceivedWithId:withJavaLangLong:", "onUpdateReceived", "V", 0x1, NULL, NULL },
    { "executeAfterWithInt:withJavaLangRunnable:", "executeAfter", "V", 0x1, NULL, NULL },
    { "executeRelatedResponseWithJavaUtilList:withJavaUtilList:withJavaLangRunnable:", "executeRelatedResponse", "V", 0x1, NULL, NULL },
    { "executeRelatedResponseWithJavaUtilList:withJavaUtilList:withARActorRef:withJavaLangRunnable:", "executeRelatedResponse", "V", 0x1, NULL, NULL },
    { "resetModule", NULL, "V", 0x1, NULL, NULL },
    { "onBusEventWithImActorRuntimeEventbusEvent:", "onBusEvent", "V", 0x1, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "updateActor_", NULL, 0x2, "Lim.actor.runtime.actors.ActorRef;", NULL, NULL, .constantValue.asLong = 0 },
  };
  static const J2ObjcClassInfo _ACUpdates = { 2, "Updates", "im.actor.core.modules", NULL, 0x1, 12, methods, 1, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_ACUpdates;
}

@end


#line 30
void ACUpdates_initWithACModuleContext_(ACUpdates *self, id<ACModuleContext> messenger) {
  (void) ACAbsModule_initWithACModuleContext_(self, messenger);
}


#line 30
ACUpdates *new_ACUpdates_initWithACModuleContext_(id<ACModuleContext> messenger) {
  ACUpdates *self = [ACUpdates alloc];
  ACUpdates_initWithACModuleContext_(self, messenger);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ACUpdates)

#line 0 "/Users/ex3ndr/Develop/actor-proprietary/actor-sdk/sdk-core/core/core-shared/src/main/java//im/actor/core/modules/Updates.java"

@implementation ACUpdates_$1


#line 37
- (ACSequenceActor *)create {
  return new_ACSequenceActor_initWithACModuleContext_([this$0_ context]);
}

- (instancetype)initWithACUpdates:(ACUpdates *)outer$ {
  ACUpdates_$1_initWithACUpdates_(self, outer$);
  return self;
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "create", NULL, "Lim.actor.core.modules.updates.SequenceActor;", 0x1, NULL, NULL },
    { "initWithACUpdates:", "", NULL, 0x0, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "this$0_", NULL, 0x1012, "Lim.actor.core.modules.Updates;", NULL, NULL, .constantValue.asLong = 0 },
  };
  static const J2ObjCEnclosingMethodInfo enclosing_method = { "ACUpdates", "run" };
  static const J2ObjcClassInfo _ACUpdates_$1 = { 2, "", "im.actor.core.modules", "Updates", 0x8008, 2, methods, 1, fields, 0, NULL, 0, NULL, &enclosing_method, "Ljava/lang/Object;Lim/actor/runtime/actors/ActorCreator<Lim/actor/core/modules/updates/SequenceActor;>;" };
  return &_ACUpdates_$1;
}

@end

void ACUpdates_$1_initWithACUpdates_(ACUpdates_$1 *self, ACUpdates *outer$) {
  self->this$0_ = outer$;
  (void) NSObject_init(self);
}

ACUpdates_$1 *new_ACUpdates_$1_initWithACUpdates_(ACUpdates *outer$) {
  ACUpdates_$1 *self = [ACUpdates_$1 alloc];
  ACUpdates_$1_initWithACUpdates_(self, outer$);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ACUpdates_$1)

#line 0 "/Users/ex3ndr/Develop/actor-proprietary/actor-sdk/sdk-core/core/core-shared/src/main/java//im/actor/core/modules/Updates.java"

@implementation ACUpdates_$2


#line 78
- (void)run {
  [((ARActorRef *) nil_chk(val$ref_)) sendWithId:val$runnable_];
}

- (instancetype)initWithARActorRef:(ARActorRef *)capture$0
              withJavaLangRunnable:(id<JavaLangRunnable>)capture$1 {
  ACUpdates_$2_initWithARActorRef_withJavaLangRunnable_(self, capture$0, capture$1);
  return self;
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "run", NULL, "V", 0x1, NULL, NULL },
    { "initWithARActorRef:withJavaLangRunnable:", "", NULL, 0x0, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "val$ref_", NULL, 0x1012, "Lim.actor.runtime.actors.ActorRef;", NULL, NULL, .constantValue.asLong = 0 },
    { "val$runnable_", NULL, 0x1012, "Ljava.lang.Runnable;", NULL, NULL, .constantValue.asLong = 0 },
  };
  static const J2ObjCEnclosingMethodInfo enclosing_method = { "ACUpdates", "executeRelatedResponseWithJavaUtilList:withJavaUtilList:withARActorRef:withJavaLangRunnable:" };
  static const J2ObjcClassInfo _ACUpdates_$2 = { 2, "", "im.actor.core.modules", "Updates", 0x8008, 2, methods, 2, fields, 0, NULL, 0, NULL, &enclosing_method, NULL };
  return &_ACUpdates_$2;
}

@end

void ACUpdates_$2_initWithARActorRef_withJavaLangRunnable_(ACUpdates_$2 *self, ARActorRef *capture$0, id<JavaLangRunnable> capture$1) {
  self->val$ref_ = capture$0;
  self->val$runnable_ = capture$1;
  (void) NSObject_init(self);
}

ACUpdates_$2 *new_ACUpdates_$2_initWithARActorRef_withJavaLangRunnable_(ARActorRef *capture$0, id<JavaLangRunnable> capture$1) {
  ACUpdates_$2 *self = [ACUpdates_$2 alloc];
  ACUpdates_$2_initWithARActorRef_withJavaLangRunnable_(self, capture$0, capture$1);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ACUpdates_$2)

#pragma clang diagnostic pop
