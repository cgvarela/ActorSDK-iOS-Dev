//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/ex3ndr/Develop/actor-proprietary/actor-sdk/sdk-core/core/core-shared/src/main/java//im/actor/core/modules/api/entity/PersistentStorage.java
//

#include "IOSClass.h"
#include "IOSPrimitiveArray.h"
#include "J2ObjC_source.h"
#include "im/actor/core/modules/api/entity/CursorStoredRequest.h"
#include "im/actor/core/modules/api/entity/PersistentStorage.h"
#include "im/actor/core/modules/api/entity/StoredRequest.h"
#include "im/actor/runtime/bser/Bser.h"
#include "im/actor/runtime/bser/BserObject.h"
#include "im/actor/runtime/bser/BserValues.h"
#include "im/actor/runtime/bser/BserWriter.h"
#include "java/io/IOException.h"
#include "java/util/ArrayList.h"
#include "java/util/List.h"

#pragma clang diagnostic push
#pragma GCC diagnostic ignored "-Wdeprecated-declarations"

@interface ImActorCoreModulesApiEntityPersistentStorage () {
 @public
  JavaUtilArrayList *requests_;
  JavaUtilArrayList *cursorRequests_;
}

@end

J2OBJC_FIELD_SETTER(ImActorCoreModulesApiEntityPersistentStorage, requests_, JavaUtilArrayList *)
J2OBJC_FIELD_SETTER(ImActorCoreModulesApiEntityPersistentStorage, cursorRequests_, JavaUtilArrayList *)

#line 0 "/Users/ex3ndr/Develop/actor-proprietary/actor-sdk/sdk-core/core/core-shared/src/main/java//im/actor/core/modules/api/entity/PersistentStorage.java"


#line 11
@implementation ImActorCoreModulesApiEntityPersistentStorage

+ (ImActorCoreModulesApiEntityPersistentStorage *)fromBytesWithByteArray:(IOSByteArray *)data {
  return ImActorCoreModulesApiEntityPersistentStorage_fromBytesWithByteArray_(data);
}

J2OBJC_IGNORE_DESIGNATED_BEGIN

#line 20
- (instancetype)init {
  ImActorCoreModulesApiEntityPersistentStorage_init(self);
  return self;
}
J2OBJC_IGNORE_DESIGNATED_END


#line 24
- (JavaUtilArrayList *)getRequests {
  return requests_;
}

- (JavaUtilArrayList *)getCursorRequests {
  return cursorRequests_;
}

- (ImActorCoreModulesApiEntityCursorStoredRequest *)findCursorRequestWithNSString:(NSString *)name {
  for (ImActorCoreModulesApiEntityCursorStoredRequest * __strong r in nil_chk(cursorRequests_)) {
    if ([((NSString *) nil_chk(name)) isEqual:[((ImActorCoreModulesApiEntityCursorStoredRequest *) nil_chk(r)) getName]]) {
      return r;
    }
  }
  return nil;
}


#line 42
- (void)parseWithARBserValues:(ARBserValues *)values {
  
#line 44
  [((JavaUtilArrayList *) nil_chk(requests_)) clear];
  for (IOSByteArray * __strong r in nil_chk([((ARBserValues *) nil_chk(values)) getRepeatedBytesWithInt:1])) {
    @try {
      [requests_ addWithId:ImActorCoreModulesApiEntityStoredRequest_fromBytesWithByteArray_(r)];
    }
    @catch (
#line 48
    JavaIoIOException *e) {
      
#line 50
      [((JavaIoIOException *) nil_chk(e)) printStackTrace];
    }
  }
  
#line 54
  [((JavaUtilArrayList *) nil_chk(cursorRequests_)) clear];
  for (IOSByteArray * __strong r in nil_chk([values getRepeatedBytesWithInt:2])) {
    @try {
      [cursorRequests_ addWithId:ImActorCoreModulesApiEntityCursorStoredRequest_fromBytesWithByteArray_(r)];
    }
    @catch (
#line 58
    JavaIoIOException *e) {
      
#line 60
      [((JavaIoIOException *) nil_chk(e)) printStackTrace];
    }
  }
}


#line 66
- (void)serializeWithARBserWriter:(ARBserWriter *)writer {
  
#line 68
  for (ImActorCoreModulesApiEntityStoredRequest * __strong req in nil_chk(requests_)) {
    [((ARBserWriter *) nil_chk(writer)) writeObjectWithInt:1 withARBserObject:req];
  }
  
#line 72
  for (ImActorCoreModulesApiEntityCursorStoredRequest * __strong req in nil_chk(cursorRequests_)) {
    [((ARBserWriter *) nil_chk(writer)) writeObjectWithInt:2 withARBserObject:req];
  }
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "fromBytesWithByteArray:", "fromBytes", "Lim.actor.core.modules.api.entity.PersistentStorage;", 0x9, "Ljava.io.IOException;", NULL },
    { "init", "PersistentStorage", NULL, 0x1, NULL, NULL },
    { "getRequests", NULL, "Ljava.util.ArrayList;", 0x1, NULL, NULL },
    { "getCursorRequests", NULL, "Ljava.util.ArrayList;", 0x1, NULL, NULL },
    { "findCursorRequestWithNSString:", "findCursorRequest", "Lim.actor.core.modules.api.entity.CursorStoredRequest;", 0x1, NULL, NULL },
    { "parseWithARBserValues:", "parse", "V", 0x1, "Ljava.io.IOException;", NULL },
    { "serializeWithARBserWriter:", "serialize", "V", 0x1, "Ljava.io.IOException;", NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "requests_", NULL, 0x2, "Ljava.util.ArrayList;", NULL, "Ljava/util/ArrayList<Lim/actor/core/modules/api/entity/StoredRequest;>;", .constantValue.asLong = 0 },
    { "cursorRequests_", NULL, 0x2, "Ljava.util.ArrayList;", NULL, "Ljava/util/ArrayList<Lim/actor/core/modules/api/entity/CursorStoredRequest;>;", .constantValue.asLong = 0 },
  };
  static const J2ObjcClassInfo _ImActorCoreModulesApiEntityPersistentStorage = { 2, "PersistentStorage", "im.actor.core.modules.api.entity", NULL, 0x1, 7, methods, 2, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_ImActorCoreModulesApiEntityPersistentStorage;
}

@end


#line 13
ImActorCoreModulesApiEntityPersistentStorage *ImActorCoreModulesApiEntityPersistentStorage_fromBytesWithByteArray_(IOSByteArray *data) {
  ImActorCoreModulesApiEntityPersistentStorage_initialize();
  
#line 14
  return ARBser_parseWithARBserObject_withByteArray_(new_ImActorCoreModulesApiEntityPersistentStorage_init(), data);
}

void ImActorCoreModulesApiEntityPersistentStorage_init(ImActorCoreModulesApiEntityPersistentStorage *self) {
  (void) ARBserObject_init(self);
  self->requests_ = new_JavaUtilArrayList_init();
  self->cursorRequests_ = new_JavaUtilArrayList_init();
}


#line 20
ImActorCoreModulesApiEntityPersistentStorage *new_ImActorCoreModulesApiEntityPersistentStorage_init() {
  ImActorCoreModulesApiEntityPersistentStorage *self = [ImActorCoreModulesApiEntityPersistentStorage alloc];
  ImActorCoreModulesApiEntityPersistentStorage_init(self);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ImActorCoreModulesApiEntityPersistentStorage)

#pragma clang diagnostic pop
