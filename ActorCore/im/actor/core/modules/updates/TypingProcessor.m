//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/ex3ndr/Develop/actor-proprietary/actor-sdk/sdk-core/core/core-shared/src/main/java//im/actor/core/modules/updates/TypingProcessor.java
//

#include <j2objc/J2ObjC_source.h>
#include "im/actor/core/api/ApiPeer.h"
#include "im/actor/core/api/ApiPeerType.h"
#include "im/actor/core/api/ApiTypingType.h"
#include "im/actor/core/modules/AbsModule.h"
#include "im/actor/core/modules/ModuleContext.h"
#include "im/actor/core/modules/internal/typing/TypingActor.h"
#include "im/actor/core/modules/updates/TypingProcessor.h"
#include "im/actor/runtime/actors/ActorRef.h"

#pragma clang diagnostic push
#pragma GCC diagnostic ignored "-Wdeprecated-declarations"

@interface ACTypingProcessor () {
 @public
  ARActorRef *typingActor_;
}

@end

J2OBJC_FIELD_SETTER(ACTypingProcessor, typingActor_, ARActorRef *)

#line 0 "/Users/ex3ndr/Develop/actor-proprietary/actor-sdk/sdk-core/core/core-shared/src/main/java//im/actor/core/modules/updates/TypingProcessor.java"


#line 17
@implementation ACTypingProcessor


#line 21
- (instancetype)initWithACModuleContext:(id<ACModuleContext>)modules {
  ACTypingProcessor_initWithACModuleContext_(self, modules);
  return self;
}


#line 27
- (void)onTypingWithARApiPeer:(ARApiPeer *)peer
                      withInt:(jint)uid
      withARApiTypingTypeEnum:(ARApiTypingTypeEnum *)type {
  if ([((ARApiPeer *) nil_chk(peer)) getType] == JreLoadStatic(ARApiPeerTypeEnum, PRIVATE)) {
    [((ARActorRef *) nil_chk(typingActor_)) sendOnceWithId:new_ACTypingActor_PrivateTyping_initWithInt_withARApiTypingTypeEnum_(uid, type)];
  }
  else
#line 30
  if ([peer getType] == JreLoadStatic(ARApiPeerTypeEnum, GROUP)) {
    [((ARActorRef *) nil_chk(typingActor_)) sendOnceWithId:new_ACTypingActor_GroupTyping_initWithInt_withInt_withARApiTypingTypeEnum_([peer getId], uid, type)];
  }
}


#line 36
- (void)onMessageWithARApiPeer:(ARApiPeer *)peer
                       withInt:(jint)uid {
  if ([((ARApiPeer *) nil_chk(peer)) getType] == JreLoadStatic(ARApiPeerTypeEnum, PRIVATE)) {
    [((ARActorRef *) nil_chk(typingActor_)) sendOnceWithId:new_ACTypingActor_StopTyping_initWithInt_(uid)];
  }
  else
#line 39
  if ([peer getType] == JreLoadStatic(ARApiPeerTypeEnum, GROUP)) {
    [((ARActorRef *) nil_chk(typingActor_)) sendOnceWithId:new_ACTypingActor_StopGroupTyping_initWithInt_withInt_([peer getId], uid)];
  }
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithACModuleContext:", "TypingProcessor", NULL, 0x1, NULL, NULL },
    { "onTypingWithARApiPeer:withInt:withARApiTypingTypeEnum:", "onTyping", "V", 0x1, NULL, NULL },
    { "onMessageWithARApiPeer:withInt:", "onMessage", "V", 0x1, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "typingActor_", NULL, 0x2, "Lim.actor.runtime.actors.ActorRef;", NULL, NULL, .constantValue.asLong = 0 },
  };
  static const J2ObjcClassInfo _ACTypingProcessor = { 2, "TypingProcessor", "im.actor.core.modules.updates", NULL, 0x1, 3, methods, 1, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_ACTypingProcessor;
}

@end


#line 21
void ACTypingProcessor_initWithACModuleContext_(ACTypingProcessor *self, id<ACModuleContext> modules) {
  (void) ACAbsModule_initWithACModuleContext_(self, modules);
  self->typingActor_ = ACTypingActor_getWithACModuleContext_(modules);
}


#line 21
ACTypingProcessor *new_ACTypingProcessor_initWithACModuleContext_(id<ACModuleContext> modules) {
  ACTypingProcessor *self = [ACTypingProcessor alloc];
  ACTypingProcessor_initWithACModuleContext_(self, modules);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ACTypingProcessor)

#pragma clang diagnostic pop
